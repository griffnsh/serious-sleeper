import{a as ve,g as ye}from"../chunks/leagueTeamManagers.c0fc25fc.js";import"../chunks/singletons.6c6633c9.js";import{l as Re}from"../chunks/players.cfc40ba6.js";import{w as F,l as $e,u as J,s as Q,t as j,d as X,f as x}from"../chunks/records.35358e58.js";import{af as z,S as G,i as K,s as Y,y as A,z as B,A as H,g as w,d as k,B as C,e as S,b as m,v as V,f as U,Z,h as _,k as R,a as O,l as T,m as N,c as I,n as M,q as h,r as v,T as D,u as E,o as Te,a7 as Me,a8 as Oe,a2 as ee,G as re,M as Ie,a5 as q,a6 as te,Y as L}from"../chunks/index.78a9f0bb.js";import{g as Ee}from"../chunks/leagueRosters.51b8caa5.js";import"../chunks/index.svelte_svelte_type_style_lang.1b9663cd.js";import{L as W}from"../chunks/LinearProgress.dc184101.js";import{R as we,C as De,D as Pe,H as je,B as Ne}from"../chunks/index.2d56c369.js";const Se=async()=>{if(z(J).draft)return z(J);const[s,t]=await F(Ee(),ve()).catch(d=>{console.error(d)}),f=t.draft_id,r=t.settings.playoff_week_start-1;let e=parseInt(t.season);const[a,n]=await F(fetch(`https://api.sleeper.app/v1/draft/${f}`,{compress:!0}),fetch(`https://api.sleeper.app/v1/league/${$e}/traded_picks`,{compress:!0})).catch(d=>{console.error(d)}),[i,l]=await F(a.json(),n.json()).catch(d=>{console.error(d)});let o,c,u;const p=s.rosters;if(i.status=="complete"){e=e+1;const d=Ae(p,i.slot_to_roster_id,i.settings.rounds,l.filter(b=>parseInt(b.season)==e),r);o=d.draft,c=d.draftOrder,u=d.accuracy}else{const d=ke(i.slot_to_roster_id,i.settings.rounds,l.filter(b=>parseInt(b.season)==e));o=d.draft,c=d.draftOrder}const g={year:e,draft:o,draftOrder:c,accuracy:u,draftType:i.type,reversalRound:i.settings.reversal_round};return J.update(()=>g),g},Ae=(s,t,f,r,e)=>{const a=[],n=Object.keys(s),i=s[n[0]].settings,l=i.wins+i.ties+i.losses;if(l==0)for(const p in t)a.push(t[p]);else{const p=n.sort((g,d)=>{const b=s[g].settings,P=s[d].settings;return b.wins!=P.wins?b.wins-P.wins:b.ties!=P.ties?b.ties-P.ties:b.fpts+b.fpts_decimal/100-(P.fpts+P.fpts_decimal/100)});for(const g of p)a.push(g)}const o=new Array(n.length);let c=[];for(let p=0;p<f;p++)c.push([...o]);for(const p of r)p.owner_id==p.roster_id||p.round>f||(c[p.round-1][a.indexOf(p.roster_id)]=p.owner_id);let u=(l+1)/(e+1);return u=u>1?1:u,{draft:c,draftOrder:a,accuracy:u}},ke=(s,t,f,r=null,e=null)=>{const a=[];let n=0;for(const o in s)n++,a.push(s[o]);const i=new Array(n).fill();let l=[];for(let o=0;o<t;o++)l.push([...i]);if(r&&e!="auction")l=Be({players:r,draft:l,picks:f,draftOrder:a,rounds:t});else if(r)l=He({players:r,draft:l,draftOrder:a,draftOrderObj:s});else for(const o of f)o.owner_id==o.roster_id||o.round>t||(l[o.round-1][a.indexOf(o.roster_id)]=o.owner_id);return{draft:l,draftOrder:a}},Be=({players:s,draft:t,picks:f,draftOrder:r,rounds:e})=>{for(const a of s){const n=a.player_id;t[a.round-1][a.draft_slot-1]={player:n}}for(const a of f)a.owner_id==a.roster_id||a.round>e||(t[a.round-1][r.indexOf(a.roster_id)].newOwner=a.owner_id);return t},He=({players:s,draft:t,draftOrder:f,draftOrderObj:r})=>{const e={};for(const a in r)e[r[a]]=[];for(const a of s){const n={player:a.player_id,amount:a.metadata.amount};e[a.roster_id].push(n)}for(const a in e){const n=f.indexOf(parseInt(a)),i=e[a].sort((l,o)=>o.amount-l.amount);for(let l=0;l<i.length;l++)t[l][n]=i[l]}return t},Ce=async()=>{if(z(Q).length>0)return z(Q);let s=$e;const t=[];for(;s&&s!=0;){const[f,r]=await F(ve(s).catch(a=>{console.error(a)}),fetch(`https://api.sleeper.app/v1/league/${s}/drafts`,{compress:!0})).catch(a=>{console.error(a)}),e=await r.json();s=f.previous_league_id;for(const a of e){const n=a.draft_id,i=parseInt(a.season),[l,o,c]=await F(fetch(`https://api.sleeper.app/v1/draft/${n}`,{compress:!0}),fetch(`https://api.sleeper.app/v1/draft/${n}/traded_picks`,{compress:!0}),fetch(`https://api.sleeper.app/v1/draft/${n}/picks`,{compress:!0})).catch($=>{console.error($)}),[u,p,g]=await F(l.json(),o.json(),c.json()).catch($=>{console.error($)});if(u.status!="complete")continue;let d,b;const P=ke(u.slot_to_roster_id,u.settings.rounds,p,g,u.type);d=P.draft,b=P.draftOrder;const y={year:i,draft:d,draftOrder:b,draftType:u.type,reversalRound:u.settings.reversal_round};t.push(y)}}return Q.update(()=>t),t};function le(s,t,f){const r=s.slice();return r[8]=t[f],r[10]=f,r}function ae(s){let t,f;return t=new De({props:{class:"draftCell"+(s[8]?" changedHands":"")+(s[4]?` prev${s[5][s[8].player].pos}`:""),$$slots:{default:[Ke]},$$scope:{ctx:s}}}),{c(){A(t.$$.fragment)},l(r){B(t.$$.fragment,r)},m(r,e){H(t,r,e),f=!0},p(r,e){const a={};e&49&&(a.class="draftCell"+(r[8]?" changedHands":"")+(r[4]?` prev${r[5][r[8].player].pos}`:"")),e&2303&&(a.$$scope={dirty:e,ctx:r}),t.$set(a)},i(r){f||(w(t.$$.fragment,r),f=!0)},o(r){k(t.$$.fragment,r),f=!1},d(r){C(t,r)}}}function Fe(s){var i;let t,f,r=s[0].length-s[10]+"",e,a=(i=s[8])!=null&&i.newOwner?` ${j(s[7],s[8].newOwner,s[6])}`:"",n;return{c(){t=h(s[2]),f=h("."),e=h(r),n=h(a)},l(l){t=v(l,s[2]),f=v(l,"."),e=v(l,r),n=v(l,a)},m(l,o){m(l,t,o),m(l,f,o),m(l,e,o),m(l,n,o)},p(l,o){var c;o&4&&E(t,l[2]),o&1&&r!==(r=l[0].length-l[10]+"")&&E(e,r),o&193&&a!==(a=(c=l[8])!=null&&c.newOwner?` ${j(l[7],l[8].newOwner,l[6])}`:"")&&E(n,a)},d(l){l&&_(t),l&&_(f),l&&_(e),l&&_(n)}}}function Le(s){var i;let t,f,r=s[10]+1+"",e,a=(i=s[8])!=null&&i.newOwner?` ${j(s[7],s[8].newOwner,s[6])}`:"",n;return{c(){t=h(s[2]),f=h("."),e=h(r),n=h(a)},l(l){t=v(l,s[2]),f=v(l,"."),e=v(l,r),n=v(l,a)},m(l,o){m(l,t,o),m(l,f,o),m(l,e,o),m(l,n,o)},p(l,o){var c;o&4&&E(t,l[2]),o&193&&a!==(a=(c=l[8])!=null&&c.newOwner?` ${j(l[7],l[8].newOwner,l[6])}`:"")&&E(n,a)},d(l){l&&_(t),l&&_(f),l&&_(e),l&&_(n)}}}function Ve(s){var i;let t,f=(i=s[8])!=null&&i.newOwner?` ${j(s[7],s[8].newOwner,s[6])}`:"",r;function e(l,o){return l[2]<l[3]&&l[2]%2==0||l[2]>=l[3]&&l[2]%2==1?Ge:ze}let a=e(s),n=a(s);return{c(){n.c(),t=O(),r=h(f)},l(l){n.l(l),t=I(l),r=v(l,f)},m(l,o){n.m(l,o),m(l,t,o),m(l,r,o)},p(l,o){var c;a===(a=e(l))&&n?n.p(l,o):(n.d(1),n=a(l),n&&(n.c(),n.m(t.parentNode,t))),o&193&&f!==(f=(c=l[8])!=null&&c.newOwner?` ${j(l[7],l[8].newOwner,l[6])}`:"")&&E(r,f)},d(l){n.d(l),l&&_(t),l&&_(r)}}}function Ue(s){var i;let t,f,r=(s[2]%2==0?s[0].length-s[10]:s[10]+1)+"",e,a=(i=s[8])!=null&&i.newOwner?` ${j(s[7],s[8].newOwner,s[6])}`:"",n;return{c(){t=h(s[2]),f=h("."),e=h(r),n=h(a)},l(l){t=v(l,s[2]),f=v(l,"."),e=v(l,r),n=v(l,a)},m(l,o){m(l,t,o),m(l,f,o),m(l,e,o),m(l,n,o)},p(l,o){var c;o&4&&E(t,l[2]),o&5&&r!==(r=(l[2]%2==0?l[0].length-l[10]:l[10]+1)+"")&&E(e,r),o&193&&a!==(a=(c=l[8])!=null&&c.newOwner?` ${j(l[7],l[8].newOwner,l[6])}`:"")&&E(n,a)},d(l){l&&_(t),l&&_(f),l&&_(e),l&&_(n)}}}function qe(s){let t,f=s[8].amount+"",r;return{c(){t=h("$"),r=h(f)},l(e){t=v(e,"$"),r=v(e,f)},m(e,a){m(e,t,a),m(e,r,a)},p(e,a){a&1&&f!==(f=e[8].amount+"")&&E(r,f)},d(e){e&&_(t),e&&_(r)}}}function ze(s){let t,f,r=s[10]+1+"",e;return{c(){t=h(s[2]),f=h("."),e=h(r)},l(a){t=v(a,s[2]),f=v(a,"."),e=v(a,r)},m(a,n){m(a,t,n),m(a,f,n),m(a,e,n)},p(a,n){n&4&&E(t,a[2])},d(a){a&&_(t),a&&_(f),a&&_(e)}}}function Ge(s){let t,f,r=s[0].length-s[10]+"",e;return{c(){t=h(s[2]),f=h("."),e=h(r)},l(a){t=v(a,s[2]),f=v(a,"."),e=v(a,r)},m(a,n){m(a,t,n),m(a,f,n),m(a,e,n)},p(a,n){n&4&&E(t,a[2]),n&1&&r!==(r=a[0].length-a[10]+"")&&E(e,r)},d(a){a&&_(t),a&&_(f),a&&_(e)}}}function se(s){let t,f=j(s[7],s[8])+"",r;return{c(){t=R("div"),r=h(f),this.h()},l(e){t=T(e,"DIV",{class:!0});var a=N(t);r=v(a,f),a.forEach(_),this.h()},h(){M(t,"class","newOwner svelte-1a7exod")},m(e,a){m(e,t,a),D(t,r)},p(e,a){a&129&&f!==(f=j(e[7],e[8])+"")&&E(r,f)},d(e){e&&_(t)}}}function ne(s){let t,f,r,e,a,n,i=`${s[5][s[8].player].fn} ${s[5][s[8].player].ln}`,l,o=s[5][s[8].player].pos=="DEF"?"":` (${s[5][s[8].player].t})`,c;return{c(){t=R("div"),r=O(),e=R("br"),a=O(),n=R("div"),l=h(i),c=h(o),this.h()},l(u){t=T(u,"DIV",{class:!0,style:!0}),N(t).forEach(_),r=I(u),e=T(u,"BR",{}),a=I(u),n=T(u,"DIV",{class:!0});var p=N(n);l=v(p,i),c=v(p,o),p.forEach(_),this.h()},h(){M(t,"class","playerAvatar svelte-1a7exod"),M(t,"style",f=s[5][s[8].player].pos=="DEF"?`background-image: url(https://sleepercdn.com/images/team_logos/nfl/${s[8].player.toLowerCase()}.png)`:`background-image: url(https://sleepercdn.com/content/nfl/players/thumb/${s[8].player}.jpg), url(https://sleepercdn.com/images/v2/icons/player_default.webp)`),M(n,"class","name svelte-1a7exod")},m(u,p){m(u,t,p),m(u,r,p),m(u,e,p),m(u,a,p),m(u,n,p),D(n,l),D(n,c)},p(u,p){p&33&&f!==(f=u[5][u[8].player].pos=="DEF"?`background-image: url(https://sleepercdn.com/images/team_logos/nfl/${u[8].player.toLowerCase()}.png)`:`background-image: url(https://sleepercdn.com/content/nfl/players/thumb/${u[8].player}.jpg), url(https://sleepercdn.com/images/v2/icons/player_default.webp)`)&&M(t,"style",f),p&33&&i!==(i=`${u[5][u[8].player].fn} ${u[5][u[8].player].ln}`)&&E(l,i),p&33&&o!==(o=u[5][u[8].player].pos=="DEF"?"":` (${u[5][u[8].player].t})`)&&E(c,o)},d(u){u&&_(t),u&&_(r),u&&_(e),u&&_(a),u&&_(n)}}}function Ke(s){let t,f,r,e,a;function n(u,p){return u[1]=="auction"&&u[4]?qe:u[1]=="snake"&&!u[3]?Ue:u[1]=="snake"&&u[3]?Ve:!u[3]||u[2]<u[3]?Le:Fe}let i=n(s),l=i(s),o=s[8]&&!s[4]&&se(s),c=s[4]&&ne(s);return{c(){t=R("span"),l.c(),r=O(),o&&o.c(),e=O(),c&&c.c(),a=O(),this.h()},l(u){t=T(u,"SPAN",{class:!0});var p=N(t);l.l(p),p.forEach(_),r=I(u),o&&o.l(u),e=I(u),c&&c.l(u),a=I(u),this.h()},h(){M(t,"class",f="draftPos"+(s[4]?"Prev":"")+" svelte-1a7exod")},m(u,p){m(u,t,p),l.m(t,null),m(u,r,p),o&&o.m(u,p),m(u,e,p),c&&c.m(u,p),m(u,a,p)},p(u,p){i===(i=n(u))&&l?l.p(u,p):(l.d(1),l=i(u),l&&(l.c(),l.m(t,null))),p&16&&f!==(f="draftPos"+(u[4]?"Prev":"")+" svelte-1a7exod")&&M(t,"class",f),u[8]&&!u[4]?o?o.p(u,p):(o=se(u),o.c(),o.m(e.parentNode,e)):o&&(o.d(1),o=null),u[4]?c?c.p(u,p):(c=ne(u),c.c(),c.m(a.parentNode,a)):c&&(c.d(1),c=null)},d(u){u&&_(t),l.d(),u&&_(r),o&&o.d(u),u&&_(e),c&&c.d(u),u&&_(a)}}}function fe(s){let t,f,r=(!s[4]||s[8])&&ae(s);return{c(){r&&r.c(),t=S()},l(e){r&&r.l(e),t=S()},m(e,a){r&&r.m(e,a),m(e,t,a),f=!0},p(e,a){!e[4]||e[8]?r?(r.p(e,a),a&17&&w(r,1)):(r=ae(e),r.c(),w(r,1),r.m(t.parentNode,t)):r&&(V(),k(r,1,1,()=>{r=null}),U())},i(e){f||(w(r),f=!0)},o(e){k(r),f=!1},d(e){r&&r.d(e),e&&_(t)}}}function Ye(s){let t,f,r=s[0],e=[];for(let n=0;n<r.length;n+=1)e[n]=fe(le(s,r,n));const a=n=>k(e[n],1,1,()=>{e[n]=null});return{c(){for(let n=0;n<e.length;n+=1)e[n].c();t=S()},l(n){for(let i=0;i<e.length;i+=1)e[i].l(n);t=S()},m(n,i){for(let l=0;l<e.length;l+=1)e[l]&&e[l].m(n,i);m(n,t,i),f=!0},p(n,i){if(i&255){r=n[0];let l;for(l=0;l<r.length;l+=1){const o=le(n,r,l);e[l]?(e[l].p(o,i),w(e[l],1)):(e[l]=fe(o),e[l].c(),w(e[l],1),e[l].m(t.parentNode,t))}for(V(),l=r.length;l<e.length;l+=1)a(l);U()}},i(n){if(!f){for(let i=0;i<r.length;i+=1)w(e[i]);f=!0}},o(n){e=e.filter(Boolean);for(let i=0;i<e.length;i+=1)k(e[i]);f=!1},d(n){Z(e,n),n&&_(t)}}}function Ze(s){let t,f;return t=new we({props:{$$slots:{default:[Ye]},$$scope:{ctx:s}}}),{c(){A(t.$$.fragment)},l(r){B(t.$$.fragment,r)},m(r,e){H(t,r,e),f=!0},p(r,[e]){const a={};e&2303&&(a.$$scope={dirty:e,ctx:r}),t.$set(a)},i(r){f||(w(t.$$.fragment,r),f=!0)},o(r){k(t.$$.fragment,r),f=!1},d(r){C(t,r)}}}function Je(s,t,f){let{draftRow:r,draftType:e,row:a,reversalRound:n,previous:i=!1,players:l,year:o,leagueTeamManagers:c}=t;return s.$$set=u=>{"draftRow"in u&&f(0,r=u.draftRow),"draftType"in u&&f(1,e=u.draftType),"row"in u&&f(2,a=u.row),"reversalRound"in u&&f(3,n=u.reversalRound),"previous"in u&&f(4,i=u.previous),"players"in u&&f(5,l=u.players),"year"in u&&f(6,o=u.year),"leagueTeamManagers"in u&&f(7,c=u.leagueTeamManagers)},[r,e,a,n,i,l,o,c]}class Qe extends G{constructor(t){super(),K(this,t,Je,Ze,Y,{draftRow:0,draftType:1,row:2,reversalRound:3,previous:4,players:5,year:6,leagueTeamManagers:7})}}function oe(s,t,f){const r=s.slice();return r[15]=t[f],r[17]=f,r}function ie(s,t,f){const r=s.slice();return r[18]=t[f],r}function ue(s){let t,f,r,e=parseInt(s[4]*100)+"",a,n,i,l,o,c,u;return c=new W({props:{progress:s[4],closed:s[5]}}),{c(){t=R("div"),f=R("div"),r=h("Upcomig draft order accuracy: "),a=h(e),n=h(`%
            `),i=R("span"),l=h("(accuracy will improve as the regular season progresses)"),o=O(),A(c.$$.fragment),this.h()},l(p){t=T(p,"DIV",{class:!0});var g=N(t);f=T(g,"DIV",{class:!0});var d=N(f);r=v(d,"Upcomig draft order accuracy: "),a=v(d,e),n=v(d,`%
            `),i=T(d,"SPAN",{class:!0});var b=N(i);l=v(b,"(accuracy will improve as the regular season progresses)"),b.forEach(_),d.forEach(_),o=I(g),B(c.$$.fragment,g),g.forEach(_),this.h()},h(){M(i,"class","disclaimer svelte-uyxuaj"),M(f,"class","accuracyText svelte-uyxuaj"),M(t,"class","accuracy svelte-uyxuaj")},m(p,g){m(p,t,g),D(t,f),D(f,r),D(f,a),D(f,n),D(f,i),D(i,l),D(t,o),H(c,t,null),u=!0},p(p,g){(!u||g&16)&&e!==(e=parseInt(p[4]*100)+"")&&E(a,e);const d={};g&16&&(d.progress=p[4]),g&32&&(d.closed=p[5]),c.$set(d)},i(p){u||(w(c.$$.fragment,p),u=!0)},o(p){k(c.$$.fragment,p),u=!1},d(p){p&&_(t),C(c)}}}function We(s){let t,f;return t=new De({props:{class:"draftTeam",$$slots:{default:[Xe]},$$scope:{ctx:s}}}),{c(){A(t.$$.fragment)},l(r){B(t.$$.fragment,r)},m(r,e){H(t,r,e),f=!0},p(r,e){const a={};e&2097157&&(a.$$scope={dirty:e,ctx:r}),t.$set(a)},i(r){f||(w(t.$$.fragment,r),f=!0)},o(r){k(t.$$.fragment,r),f=!1},d(r){C(t,r)}}}function Xe(s){let t,f,r,e,a,n,i,l=j(s[0],s[18],s[2])+"",o,c,u=j(s[0],s[18],s[2])!=j(s[0],s[18])?`<br /><span class="curDraftName">(${j(s[0],s[18])})</span>`:"",p,g,d;function b(){return s[12](s[18])}function P(){return s[13](s[18])}return{c(){t=R("img"),e=O(),a=R("br"),n=O(),i=R("span"),o=h(l),c=new Me(!1),p=O(),this.h()},l(y){t=T(y,"IMG",{class:!0,src:!0,alt:!0}),e=I(y),a=T(y,"BR",{}),n=I(y),i=T(y,"SPAN",{class:!0});var $=N(i);o=v($,l),c=Oe($,!1),$.forEach(_),p=I(y),this.h()},h(){M(t,"class","avatar clickable svelte-uyxuaj"),ee(t.src,f=x(s[0],s[18],s[2]))||M(t,"src",f),M(t,"alt",r=j(s[0],s[18],s[2])+" avatar"),c.a=null,M(i,"class","clickable svelte-uyxuaj")},m(y,$){m(y,t,$),m(y,e,$),m(y,a,$),m(y,n,$),m(y,i,$),D(i,o),c.m(u,i),m(y,p,$),g||(d=[re(t,"click",b),re(i,"click",P)],g=!0)},p(y,$){s=y,$&5&&!ee(t.src,f=x(s[0],s[18],s[2]))&&M(t,"src",f),$&5&&r!==(r=j(s[0],s[18],s[2])+" avatar")&&M(t,"alt",r),$&5&&l!==(l=j(s[0],s[18],s[2])+"")&&E(o,l),$&5&&u!==(u=j(s[0],s[18],s[2])!=j(s[0],s[18])?`<br /><span class="curDraftName">(${j(s[0],s[18])})</span>`:"")&&c.p(u)},d(y){y&&_(t),y&&_(e),y&&_(a),y&&_(n),y&&_(i),y&&_(p),g=!1,Ie(d)}}}function ce(s){let t,f,r=s[18]&&We(s);return{c(){r&&r.c(),t=S()},l(e){r&&r.l(e),t=S()},m(e,a){r&&r.m(e,a),m(e,t,a),f=!0},p(e,a){e[18]&&r.p(e,a)},i(e){f||(w(r),f=!0)},o(e){k(r),f=!1},d(e){r&&r.d(e),e&&_(t)}}}function xe(s){let t,f,r=s[6],e=[];for(let n=0;n<r.length;n+=1)e[n]=ce(ie(s,r,n));const a=n=>k(e[n],1,1,()=>{e[n]=null});return{c(){for(let n=0;n<e.length;n+=1)e[n].c();t=S()},l(n){for(let i=0;i<e.length;i+=1)e[i].l(n);t=S()},m(n,i){for(let l=0;l<e.length;l+=1)e[l]&&e[l].m(n,i);m(n,t,i),f=!0},p(n,i){if(i&69){r=n[6];let l;for(l=0;l<r.length;l+=1){const o=ie(n,r,l);e[l]?(e[l].p(o,i),w(e[l],1)):(e[l]=ce(o),e[l].c(),w(e[l],1),e[l].m(t.parentNode,t))}for(V(),l=r.length;l<e.length;l+=1)a(l);U()}},i(n){if(!f){for(let i=0;i<r.length;i+=1)w(e[i]);f=!0}},o(n){e=e.filter(Boolean);for(let i=0;i<e.length;i+=1)k(e[i]);f=!1},d(n){Z(e,n),n&&_(t)}}}function er(s){let t,f;return t=new we({props:{$$slots:{default:[xe]},$$scope:{ctx:s}}}),{c(){A(t.$$.fragment)},l(r){B(t.$$.fragment,r)},m(r,e){H(t,r,e),f=!0},p(r,e){const a={};e&2097157&&(a.$$scope={dirty:e,ctx:r}),t.$set(a)},i(r){f||(w(t.$$.fragment,r),f=!0)},o(r){k(t.$$.fragment,r),f=!1},d(r){C(t,r)}}}function pe(s){let t,f;return t=new Qe({props:{draftRow:s[15],row:s[17]+1,previous:s[1],reversalRound:s[9],draftType:s[10],players:s[3],leagueTeamManagers:s[0],year:s[2]}}),{c(){A(t.$$.fragment)},l(r){B(t.$$.fragment,r)},m(r,e){H(t,r,e),f=!0},p(r,e){const a={};e&2&&(a.previous=r[1]),e&8&&(a.players=r[3]),e&1&&(a.leagueTeamManagers=r[0]),e&4&&(a.year=r[2]),t.$set(a)},i(r){f||(w(t.$$.fragment,r),f=!0)},o(r){k(t.$$.fragment,r),f=!1},d(r){C(t,r)}}}function rr(s){let t,f,r=s[7],e=[];for(let n=0;n<r.length;n+=1)e[n]=pe(oe(s,r,n));const a=n=>k(e[n],1,1,()=>{e[n]=null});return{c(){for(let n=0;n<e.length;n+=1)e[n].c();t=S()},l(n){for(let i=0;i<e.length;i+=1)e[i].l(n);t=S()},m(n,i){for(let l=0;l<e.length;l+=1)e[l]&&e[l].m(n,i);m(n,t,i),f=!0},p(n,i){if(i&1679){r=n[7];let l;for(l=0;l<r.length;l+=1){const o=oe(n,r,l);e[l]?(e[l].p(o,i),w(e[l],1)):(e[l]=pe(o),e[l].c(),w(e[l],1),e[l].m(t.parentNode,t))}for(V(),l=r.length;l<e.length;l+=1)a(l);U()}},i(n){if(!f){for(let i=0;i<r.length;i+=1)w(e[i]);f=!0}},o(n){e=e.filter(Boolean);for(let i=0;i<e.length;i+=1)k(e[i]);f=!1},d(n){Z(e,n),n&&_(t)}}}function tr(s){let t,f,r,e;return t=new je({props:{$$slots:{default:[er]},$$scope:{ctx:s}}}),r=new Ne({props:{$$slots:{default:[rr]},$$scope:{ctx:s}}}),{c(){A(t.$$.fragment),f=O(),A(r.$$.fragment)},l(a){B(t.$$.fragment,a),f=I(a),B(r.$$.fragment,a)},m(a,n){H(t,a,n),m(a,f,n),H(r,a,n),e=!0},p(a,n){const i={};n&2097157&&(i.$$scope={dirty:n,ctx:a}),t.$set(i);const l={};n&2097167&&(l.$$scope={dirty:n,ctx:a}),r.$set(l)},i(a){e||(w(t.$$.fragment,a),w(r.$$.fragment,a),e=!0)},o(a){k(t.$$.fragment,a),k(r.$$.fragment,a),e=!1},d(a){C(t,a),a&&_(f),C(r,a)}}}function lr(s){let t,f,r,e=s[8]&&!s[5]&&ue(s);return f=new Pe({props:{class:"draftBoard",$$slots:{default:[tr]},$$scope:{ctx:s}}}),{c(){e&&e.c(),t=O(),A(f.$$.fragment)},l(a){e&&e.l(a),t=I(a),B(f.$$.fragment,a)},m(a,n){e&&e.m(a,n),m(a,t,n),H(f,a,n),r=!0},p(a,[n]){a[8]&&!a[5]?e?(e.p(a,n),n&32&&w(e,1)):(e=ue(a),e.c(),w(e,1),e.m(t.parentNode,t)):e&&(V(),k(e,1,1,()=>{e=null}),U());const i={};n&2097167&&(i.$$scope={dirty:n,ctx:a}),f.$set(i)},i(a){r||(w(e),w(f.$$.fragment,a),r=!0)},o(a){k(e),k(f.$$.fragment,a),r=!1},d(a){e&&e.d(a),a&&_(t),C(f,a)}}}function ar(s,t,f){let{draftData:r,leagueTeamManagers:e,previous:a=!1,year:n,players:i}=t;const{draftOrder:l,draft:o,accuracy:c,reversalRound:u,draftType:p}=r;let g=0,d=!1;Te(b);function b(){if(!c)return;let $;f(4,g=0),f(5,d=!1),clearInterval($),$=setInterval(()=>{f(4,g+=.01),g>=c&&(clearInterval($),g>=1&&(f(4,g=1),f(5,d=!0)))},100)}const P=$=>X({year:n,leagueTeamManagers:e,rosterID:$}),y=$=>X({year:n,leagueTeamManagers:e,rosterID:$});return s.$$set=$=>{"draftData"in $&&f(11,r=$.draftData),"leagueTeamManagers"in $&&f(0,e=$.leagueTeamManagers),"previous"in $&&f(1,a=$.previous),"year"in $&&f(2,n=$.year),"players"in $&&f(3,i=$.players)},[e,a,n,i,g,d,l,o,c,u,p,r,P,y]}class be extends G{constructor(t){super(),K(this,t,ar,lr,Y,{draftData:11,leagueTeamManagers:0,previous:1,year:2,players:3})}}function _e(s){s[4]=s[7][0],s[5]=s[7][1],s[6]=s[7][2].players}function me(s,t,f){const r=s.slice();return r[8]=t[f],r}function ge(s){s[12]=s[13][0],s[5]=s[13][1],s[6]=s[13][2].players}function sr(s){let t,f,r=s[11].message+"",e;return{c(){t=R("p"),f=h("Something went wrong: "),e=h(r)},l(a){t=T(a,"P",{});var n=N(t);f=v(n,"Something went wrong: "),e=v(n,r),n.forEach(_)},m(a,n){m(a,t,n),D(t,f),D(t,e)},p(a,n){n&13&&r!==(r=a[11].message+"")&&E(e,r)},i:L,o:L,d(a){a&&_(t)}}}function nr(s){ge(s);let t,f,r=s[12].year+"",e,a,n,i,l;return i=new be({props:{draftData:s[12],leagueTeamManagers:s[5],year:s[12].year,players:s[6]}}),{c(){t=R("h4"),f=h("Upcoming "),e=h(r),a=h(" Draft"),n=O(),A(i.$$.fragment),this.h()},l(o){t=T(o,"H4",{class:!0});var c=N(t);f=v(c,"Upcoming "),e=v(c,r),a=v(c," Draft"),c.forEach(_),n=I(o),B(i.$$.fragment,o),this.h()},h(){M(t,"class","svelte-88vdj")},m(o,c){m(o,t,c),D(t,f),D(t,e),D(t,a),m(o,n,c),H(i,o,c),l=!0},p(o,c){ge(o),(!l||c&13)&&r!==(r=o[12].year+"")&&E(e,r);const u={};c&13&&(u.draftData=o[12]),c&13&&(u.leagueTeamManagers=o[5]),c&13&&(u.year=o[12].year),c&13&&(u.players=o[6]),i.$set(u)},i(o){l||(w(i.$$.fragment,o),l=!0)},o(o){k(i.$$.fragment,o),l=!1},d(o){o&&_(t),o&&_(n),C(i,o)}}}function fr(s){let t,f,r,e,a,n,i,l;return i=new W({props:{indeterminate:!0}}),{c(){t=R("div"),f=R("p"),r=h("Retrieving upcoming draft..."),e=O(),a=R("br"),n=O(),A(i.$$.fragment),this.h()},l(o){t=T(o,"DIV",{class:!0});var c=N(t);f=T(c,"P",{});var u=N(f);r=v(u,"Retrieving upcoming draft..."),u.forEach(_),e=I(c),a=T(c,"BR",{}),n=I(c),B(i.$$.fragment,c),c.forEach(_),this.h()},h(){M(t,"class","loading svelte-88vdj")},m(o,c){m(o,t,c),D(t,f),D(f,r),D(t,e),D(t,a),D(t,n),H(i,t,null),l=!0},p:L,i(o){l||(w(i.$$.fragment,o),l=!0)},o(o){k(i.$$.fragment,o),l=!1},d(o){o&&_(t),C(i)}}}function or(s){let t,f,r=s[11].message+"",e;return{c(){t=R("p"),f=h("Something went wrong: "),e=h(r)},l(a){t=T(a,"P",{});var n=N(t);f=v(n,"Something went wrong: "),e=v(n,r),n.forEach(_)},m(a,n){m(a,t,n),D(t,f),D(t,e)},p(a,n){n&14&&r!==(r=a[11].message+"")&&E(e,r)},i:L,o:L,d(a){a&&_(t)}}}function ir(s){_e(s);let t,f,r=s[4].length&&de(s);return{c(){r&&r.c(),t=S()},l(e){r&&r.l(e),t=S()},m(e,a){r&&r.m(e,a),m(e,t,a),f=!0},p(e,a){_e(e),e[4].length?r?(r.p(e,a),a&14&&w(r,1)):(r=de(e),r.c(),w(r,1),r.m(t.parentNode,t)):r&&(V(),k(r,1,1,()=>{r=null}),U())},i(e){f||(w(r),f=!0)},o(e){k(r),f=!1},d(e){r&&r.d(e),e&&_(t)}}}function de(s){let t,f,r,e,a,n,i,l=s[4],o=[];for(let u=0;u<l.length;u+=1)o[u]=he(me(s,l,u));const c=u=>k(o[u],1,1,()=>{o[u]=null});return{c(){t=R("hr"),f=O(),r=R("h4"),e=h("Previous Drafts"),a=O();for(let u=0;u<o.length;u+=1)o[u].c();n=S(),this.h()},l(u){t=T(u,"HR",{}),f=I(u),r=T(u,"H4",{class:!0});var p=N(r);e=v(p,"Previous Drafts"),p.forEach(_),a=I(u);for(let g=0;g<o.length;g+=1)o[g].l(u);n=S(),this.h()},h(){M(r,"class","svelte-88vdj")},m(u,p){m(u,t,p),m(u,f,p),m(u,r,p),D(r,e),m(u,a,p);for(let g=0;g<o.length;g+=1)o[g]&&o[g].m(u,p);m(u,n,p),i=!0},p(u,p){if(p&14){l=u[4];let g;for(g=0;g<l.length;g+=1){const d=me(u,l,g);o[g]?(o[g].p(d,p),w(o[g],1)):(o[g]=he(d),o[g].c(),w(o[g],1),o[g].m(n.parentNode,n))}for(V(),g=l.length;g<o.length;g+=1)c(g);U()}},i(u){if(!i){for(let p=0;p<l.length;p+=1)w(o[p]);i=!0}},o(u){o=o.filter(Boolean);for(let p=0;p<o.length;p+=1)k(o[p]);i=!1},d(u){u&&_(t),u&&_(f),u&&_(r),u&&_(a),Z(o,u),u&&_(n)}}}function he(s){let t,f=s[8].year+"",r,e,a,n,i;return n=new be({props:{draftData:s[8],previous:!0,leagueTeamManagers:s[5],year:s[8].year,players:s[6]}}),{c(){t=R("h6"),r=h(f),e=h(" Draft"),a=O(),A(n.$$.fragment),this.h()},l(l){t=T(l,"H6",{class:!0});var o=N(t);r=v(o,f),e=v(o," Draft"),o.forEach(_),a=I(l),B(n.$$.fragment,l),this.h()},h(){M(t,"class","svelte-88vdj")},m(l,o){m(l,t,o),D(t,r),D(t,e),m(l,a,o),H(n,l,o),i=!0},p(l,o){(!i||o&14)&&f!==(f=l[8].year+"")&&E(r,f);const c={};o&14&&(c.draftData=l[8]),o&14&&(c.leagueTeamManagers=l[5]),o&14&&(c.year=l[8].year),o&14&&(c.players=l[6]),n.$set(c)},i(l){i||(w(n.$$.fragment,l),i=!0)},o(l){k(n.$$.fragment,l),i=!1},d(l){l&&_(t),l&&_(a),C(n,l)}}}function ur(s){let t,f,r,e,a,n,i,l,o,c,u,p,g;return p=new W({props:{indeterminate:!0}}),{c(){t=R("hr"),f=O(),r=R("h4"),e=h("Previous Drafts"),a=O(),n=R("div"),i=R("p"),l=h("Retrieving previous drafts..."),o=O(),c=R("br"),u=O(),A(p.$$.fragment),this.h()},l(d){t=T(d,"HR",{}),f=I(d),r=T(d,"H4",{class:!0});var b=N(r);e=v(b,"Previous Drafts"),b.forEach(_),a=I(d),n=T(d,"DIV",{class:!0});var P=N(n);i=T(P,"P",{});var y=N(i);l=v(y,"Retrieving previous drafts..."),y.forEach(_),o=I(P),c=T(P,"BR",{}),u=I(P),B(p.$$.fragment,P),P.forEach(_),this.h()},h(){M(r,"class","svelte-88vdj"),M(n,"class","loading svelte-88vdj")},m(d,b){m(d,t,b),m(d,f,b),m(d,r,b),D(r,e),m(d,a,b),m(d,n,b),D(n,i),D(i,l),D(n,o),D(n,c),D(n,u),H(p,n,null),g=!0},p:L,i(d){g||(w(p.$$.fragment,d),g=!0)},o(d){k(p.$$.fragment,d),g=!1},d(d){d&&_(t),d&&_(f),d&&_(r),d&&_(a),d&&_(n),C(p)}}}function cr(s){let t,f,r,e,a,n={ctx:s,current:null,token:null,hasCatch:!0,pending:fr,then:nr,catch:sr,value:13,error:11,blocks:[,,,]};q(t=F(s[0],s[2],s[3]),n);let i={ctx:s,current:null,token:null,hasCatch:!0,pending:ur,then:ir,catch:or,value:7,error:11,blocks:[,,,]};return q(e=F(s[1],s[2],s[3]),i),{c(){n.block.c(),f=O(),r=S(),i.block.c()},l(l){n.block.l(l),f=I(l),r=S(),i.block.l(l)},m(l,o){n.block.m(l,n.anchor=o),n.mount=()=>f.parentNode,n.anchor=f,m(l,f,o),m(l,r,o),i.block.m(l,i.anchor=o),i.mount=()=>r.parentNode,i.anchor=r,a=!0},p(l,[o]){s=l,n.ctx=s,o&13&&t!==(t=F(s[0],s[2],s[3]))&&q(t,n)||te(n,s,o),i.ctx=s,o&14&&e!==(e=F(s[1],s[2],s[3]))&&q(e,i)||te(i,s,o)},i(l){a||(w(n.block),w(i.block),a=!0)},o(l){for(let o=0;o<3;o+=1){const c=n.blocks[o];k(c)}for(let o=0;o<3;o+=1){const c=i.blocks[o];k(c)}a=!1},d(l){n.block.d(l),n.token=null,n=null,l&&_(f),l&&_(r),i.block.d(l),i.token=null,i=null}}}function pr(s,t,f){let{upcomingDraftData:r,previousDraftsData:e,leagueTeamManagersData:a,playersData:n}=t;return s.$$set=i=>{"upcomingDraftData"in i&&f(0,r=i.upcomingDraftData),"previousDraftsData"in i&&f(1,e=i.previousDraftsData),"leagueTeamManagersData"in i&&f(2,a=i.leagueTeamManagersData),"playersData"in i&&f(3,n=i.playersData)},[r,e,a,n]}class _r extends G{constructor(t){super(),K(this,t,pr,cr,Y,{upcomingDraftData:0,previousDraftsData:1,leagueTeamManagersData:2,playersData:3})}}async function mr({fetch:s}){const t=Se(),f=Ce(),r=ye(),e=Re(s);return{upcomingDraftData:t,previousDraftsData:f,leagueTeamManagersData:r,playersData:e}}const Tr=Object.freeze(Object.defineProperty({__proto__:null,load:mr},Symbol.toStringTag,{value:"Module"}));function gr(s){let t,f,r;return f=new _r({props:{upcomingDraftData:s[0],previousDraftsData:s[1],leagueTeamManagersData:s[2],playersData:s[3]}}),{c(){t=R("div"),A(f.$$.fragment),this.h()},l(e){t=T(e,"DIV",{id:!0,class:!0});var a=N(t);B(f.$$.fragment,a),a.forEach(_),this.h()},h(){M(t,"id","main"),M(t,"class","svelte-19dg7xs")},m(e,a){m(e,t,a),H(f,t,null),r=!0},p:L,i(e){r||(w(f.$$.fragment,e),r=!0)},o(e){k(f.$$.fragment,e),r=!1},d(e){e&&_(t),C(f)}}}function dr(s,t,f){let{data:r}=t;const{upcomingDraftData:e,previousDraftsData:a,leagueTeamManagersData:n,playersData:i}=r;return s.$$set=l=>{"data"in l&&f(4,r=l.data)},[e,a,n,i,r]}class Mr extends G{constructor(t){super(),K(this,t,dr,gr,Y,{data:4})}}export{Mr as component,Tr as universal};

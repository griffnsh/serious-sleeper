import{g as Ae}from"../chunks/leagueTransactions.e77c8e11.js";import{g as Ce,a as Xe}from"../chunks/leagueTeamManagers.c0fc25fc.js";import"../chunks/singletons.6c6633c9.js";import{l as Ge}from"../chunks/players.cfc40ba6.js";import{g as Ye}from"../chunks/leagueRecords.3915b659.js";import{S as ue,i as ce,s as _e,k as F,q as N,a as q,l as M,m as S,r as B,h as v,c as j,n as O,p as he,b as W,T as d,u as x,Y as X,a0 as ye,ai as pe,G as ke,Z as ie,M as Ze,a2 as fe,aj as Te,g as D,v as Z,d as R,f as K,y as C,z as G,A as Y,B as J,w as de,W as ve,e as oe,X as we,o as Ke,a5 as Ue,a6 as xe}from"../chunks/index.78a9f0bb.js";import{L as Je}from"../chunks/LinearProgress.dc184101.js";import"../chunks/index.svelte_svelte_type_style_lang.1b9663cd.js";import{w as me,E as re,l as es,F as ge,g as ss,r as A}from"../chunks/records.35358e58.js";import{M as ts}from"../chunks/Matchup.b2ed9cec.js";import{T as ls}from"../chunks/TradeTransaction.8191015c.js";import{g as as}from"../chunks/nflState.5273b638.js";import{I as Qe}from"../chunks/IconButton.4de2654b.js";const ns=async(s,e)=>{if(!s||!e)return;let l=es;const[t,n]=await me(as(),Ce()).catch(i=>{console.error(i)});t.season_type=="regular"?t.display_week:t.season_type=="post";const a={points:{one:0,two:0},wins:{one:0,two:0},ties:0,matchups:[]};for(;l&&l!=0;){const i=await Xe(l).catch(m=>{console.error(m)}),f=i.season,h=re(n,s,f),u=re(n,e,f);if(!h||!u||h==u){l=i.previous_league_id;continue}const r=[];for(let m=1;m<i.settings.playoff_week_start;m++)r.push(fetch(`https://api.sleeper.app/v1/league/${l}/matchups/${m}`,{compress:!0}));const p=await me(...r),_=[];for(const m of p){const $=m.json();if(_.push($),!m.ok)throw new Error($)}const y=await me(..._).catch(m=>{console.error(m)}).catch(m=>{console.error(m)});for(let m=1;m<y.length+1;m++){const $=rs(y[m-1],m,h,u);if($){const{matchup:z,week:T}=$,L=z[0],o=z[1];let c=L.points.reduce((g,P)=>g+P,0),b=o.points.reduce((g,P)=>g+P,0);a.points.one+=c,a.points.two+=b,c>b?a.wins.one++:c<b?a.wins.two++:a.ties++,a.matchups.push({week:T,year:f,matchup:z})}}l=i.previous_league_id}return a.matchups.sort((i,f)=>{var h=f.year-i.year,u=f.week-i.week;return h||u}),a},rs=(s,e,l,t)=>{if(!s||s.length==0)return!1;const n={};for(const f of s)(f.roster_id==l||f.roster_id==t)&&(n[f.matchup_id]||(n[f.matchup_id]=[]),n[f.matchup_id].push({roster_id:f.roster_id,starters:f.starters,points:f.starters_points}));const a=Object.keys(n),i=n[a[0]];if(!(a.length>1||i.length==1)){if(i[0].roster_id==t){const f=i.shift();i.push(f)}return{matchup:i,week:e}}};function os(s){let e,l,t,n,a,i,f,h,u,r,p,_,y,m,$,z,T,L,o,c,b;return{c(){e=F("h4"),l=N(s[2]),t=q(),n=F("div"),a=F("div"),i=F("div"),f=q(),h=F("div"),u=q(),r=F("div"),p=F("span"),_=N(s[0]),y=q(),m=N(s[3]),z=q(),T=F("span"),L=N(s[1]),o=q(),c=N(s[3]),this.h()},l(g){e=M(g,"H4",{class:!0});var P=S(e);l=B(P,s[2]),P.forEach(v),t=j(g),n=M(g,"DIV",{class:!0});var w=S(n);a=M(w,"DIV",{class:!0});var k=S(a);i=M(k,"DIV",{class:!0,style:!0}),S(i).forEach(v),f=j(k),h=M(k,"DIV",{class:!0,style:!0}),S(h).forEach(v),k.forEach(v),u=j(w),r=M(w,"DIV",{class:!0});var I=S(r);p=M(I,"SPAN",{class:!0});var H=S(p);_=B(H,s[0]),y=j(H),m=B(H,s[3]),H.forEach(v),z=j(I),T=M(I,"SPAN",{class:!0});var E=S(T);L=B(E,s[1]),o=j(E),c=B(E,s[3]),E.forEach(v),I.forEach(v),w.forEach(v),this.h()},h(){O(e,"class","svelte-fin2ij"),O(i,"class","side side_one svelte-fin2ij"),he(i,"width",s[0]/(s[0]+s[1])*50+"%"),O(h,"class","side side_two svelte-fin2ij"),he(h,"width",s[1]/(s[0]+s[1])*50+"%"),O(a,"class","gray_bar svelte-fin2ij"),O(p,"class",$="stat"+(s[0]>s[1]?" oneWinner":"")+" svelte-fin2ij"),O(T,"class",b="stat"+(s[1]>s[0]?" twoWinner":"")+" svelte-fin2ij"),O(r,"class","stats svelte-fin2ij"),O(n,"class","enclosure svelte-fin2ij")},m(g,P){W(g,e,P),d(e,l),W(g,t,P),W(g,n,P),d(n,a),d(a,i),d(a,f),d(a,h),d(n,u),d(n,r),d(r,p),d(p,_),d(p,y),d(p,m),d(r,z),d(r,T),d(T,L),d(T,o),d(T,c)},p(g,[P]){P&4&&x(l,g[2]),P&3&&he(i,"width",g[0]/(g[0]+g[1])*50+"%"),P&3&&he(h,"width",g[1]/(g[0]+g[1])*50+"%"),P&1&&x(_,g[0]),P&8&&x(m,g[3]),P&3&&$!==($="stat"+(g[0]>g[1]?" oneWinner":"")+" svelte-fin2ij")&&O(p,"class",$),P&2&&x(L,g[1]),P&8&&x(c,g[3]),P&3&&b!==(b="stat"+(g[1]>g[0]?" twoWinner":"")+" svelte-fin2ij")&&O(T,"class",b)},i:X,o:X,d(g){g&&v(e),g&&v(t),g&&v(n)}}}function is(s,e,l){let{sideOne:t,sideTwo:n,label:a,unit:i}=e;return s.$$set=f=>{"sideOne"in f&&l(0,t=f.sideOne),"sideTwo"in f&&l(1,n=f.sideTwo),"label"in f&&l(2,a=f.label),"unit"in f&&l(3,i=f.unit)},[t,n,a,i]}class le extends ue{constructor(e){super(),ce(this,e,is,os,_e,{sideOne:0,sideTwo:1,label:2,unit:3})}}function Oe(s,e,l){const t=s.slice();return t[9]=e[l],t}function Ie(s,e,l){const t=s.slice();return t[9]=e[l],t}function Ee(s){let e,l=s[2].users[s[9]].display_name+"",t,n;return{c(){e=F("option"),t=N(l),this.h()},l(a){e=M(a,"OPTION",{class:!0});var i=S(e);t=B(i,l),i.forEach(v),this.h()},h(){e.__value=n=s[9],e.value=e.__value,O(e,"class","svelte-1tnro3q")},m(a,i){W(a,e,i),d(e,t)},p(a,i){i&20&&l!==(l=a[2].users[a[9]].display_name+"")&&x(t,l),i&16&&n!==(n=a[9])&&(e.__value=n,e.value=e.__value)},d(a){a&&v(e)}}}function $e(s){let e,l;return{c(){e=F("img"),this.h()},l(t){e=M(t,"IMG",{class:!0,src:!0,alt:!0}),this.h()},h(){O(e,"class","avatar avatarLeft svelte-1tnro3q"),fe(e.src,l=ge(s[2].users,s[0]).avatar)||O(e,"src",l),O(e,"alt","manager one avatar")},m(t,n){W(t,e,n)},p(t,n){n&21&&!fe(e.src,l=ge(t[2].users,t[0]).avatar)&&O(e,"src",l)},d(t){t&&v(e)}}}function De(s){let e,l=s[2].users[s[9]].display_name+"",t,n;return{c(){e=F("option"),t=N(l),this.h()},l(a){e=M(a,"OPTION",{class:!0});var i=S(e);t=B(i,l),i.forEach(v),this.h()},h(){e.__value=n=s[9],e.value=e.__value,O(e,"class","svelte-1tnro3q")},m(a,i){W(a,e,i),d(e,t)},p(a,i){i&12&&l!==(l=a[2].users[a[9]].display_name+"")&&x(t,l),i&8&&n!==(n=a[9])&&(e.__value=n,e.value=e.__value)},d(a){a&&v(e)}}}function Fe(s){let e,l;return{c(){e=F("img"),this.h()},l(t){e=M(t,"IMG",{class:!0,src:!0,alt:!0}),this.h()},h(){O(e,"class","avatar avatarRight svelte-1tnro3q"),fe(e.src,l=ge(s[2].users,s[1]).avatar)||O(e,"src",l),O(e,"alt","manager two avatar")},m(t,n){W(t,e,n)},p(t,n){n&14&&!fe(e.src,l=ge(t[2].users,t[1]).avatar)&&O(e,"src",l)},d(t){t&&v(e)}}}function fs(s){let e,l,t,n,a,i,f,h,u,r,p,_,y,m,$,z,T,L,o,c=s[4],b=[];for(let I=0;I<c.length;I+=1)b[I]=Ee(Ie(s,c,I));let g=s[0]&&$e(s),P=s[3],w=[];for(let I=0;I<P.length;I+=1)w[I]=De(Oe(s,P,I));let k=s[1]&&Fe(s);return{c(){e=F("div"),l=F("div"),t=F("div"),n=F("select"),a=F("option"),i=N("Select a manager");for(let I=0;I<b.length;I+=1)b[I].c();f=q(),g&&g.c(),h=q(),u=F("span"),r=N("vs"),p=q(),_=F("div"),y=F("div"),m=F("select"),$=F("option"),z=N("Select a manager");for(let I=0;I<w.length;I+=1)w[I].c();T=q(),k&&k.c(),this.h()},l(I){e=M(I,"DIV",{class:!0});var H=S(e);l=M(H,"DIV",{class:!0});var E=S(l);t=M(E,"DIV",{class:!0});var V=S(t);n=M(V,"SELECT",{class:!0,id:!0,name:!0});var Q=S(n);a=M(Q,"OPTION",{class:!0});var U=S(a);i=B(U,"Select a manager"),U.forEach(v);for(let te=0;te<b.length;te+=1)b[te].l(Q);Q.forEach(v),f=j(V),g&&g.l(V),V.forEach(v),E.forEach(v),h=j(H),u=M(H,"SPAN",{class:!0});var ae=S(u);r=B(ae,"vs"),ae.forEach(v),p=j(H),_=M(H,"DIV",{class:!0});var ne=S(_);y=M(ne,"DIV",{class:!0});var ee=S(y);m=M(ee,"SELECT",{class:!0,id:!0,name:!0});var se=S(m);$=M(se,"OPTION",{class:!0});var be=S($);z=B(be,"Select a manager"),be.forEach(v);for(let te=0;te<w.length;te+=1)w[te].l(se);se.forEach(v),T=j(ee),k&&k.l(ee),ee.forEach(v),ne.forEach(v),H.forEach(v),this.h()},h(){a.__value=null,a.value=a.__value,O(a,"class","svelte-1tnro3q"),O(n,"class","selectInput left svelte-1tnro3q"),O(n,"id","managerOne"),O(n,"name","managerOne"),s[0]===void 0&&ye(()=>s[5].call(n)),O(t,"class","container svelte-1tnro3q"),O(l,"class","manager svelte-1tnro3q"),O(u,"class","vs svelte-1tnro3q"),$.__value=null,$.value=$.__value,O($,"class","svelte-1tnro3q"),O(m,"class","selectInput right svelte-1tnro3q"),O(m,"id","managerOne"),O(m,"name","managerOne"),s[1]===void 0&&ye(()=>s[6].call(m)),O(y,"class","container svelte-1tnro3q"),O(_,"class","manager svelte-1tnro3q"),O(e,"class","selectors svelte-1tnro3q")},m(I,H){W(I,e,H),d(e,l),d(l,t),d(t,n),d(n,a),d(a,i);for(let E=0;E<b.length;E+=1)b[E]&&b[E].m(n,null);pe(n,s[0],!0),d(t,f),g&&g.m(t,null),d(e,h),d(e,u),d(u,r),d(e,p),d(e,_),d(_,y),d(y,m),d(m,$),d($,z);for(let E=0;E<w.length;E+=1)w[E]&&w[E].m(m,null);pe(m,s[1],!0),d(y,T),k&&k.m(y,null),L||(o=[ke(n,"change",s[5]),ke(m,"change",s[6])],L=!0)},p(I,[H]){if(H&20){c=I[4];let E;for(E=0;E<c.length;E+=1){const V=Ie(I,c,E);b[E]?b[E].p(V,H):(b[E]=Ee(V),b[E].c(),b[E].m(n,null))}for(;E<b.length;E+=1)b[E].d(1);b.length=c.length}if(H&17&&pe(n,I[0]),I[0]?g?g.p(I,H):(g=$e(I),g.c(),g.m(t,null)):g&&(g.d(1),g=null),H&12){P=I[3];let E;for(E=0;E<P.length;E+=1){const V=Oe(I,P,E);w[E]?w[E].p(V,H):(w[E]=De(V),w[E].c(),w[E].m(m,null))}for(;E<w.length;E+=1)w[E].d(1);w.length=P.length}H&10&&pe(m,I[1]),I[1]?k?k.p(I,H):(k=Fe(I),k.c(),k.m(y,null)):k&&(k.d(1),k=null)},i:X,o:X,d(I){I&&v(e),ie(b,I),g&&g.d(),ie(w,I),k&&k.d(),L=!1,Ze(o)}}}function us(s,e,l){let t,n,{playerOne:a,playerTwo:i,leagueTeamManagers:f}=e;const h=Object.keys(f.users),u=(_,y)=>{!_||!y||ss(`/rivalry?player_one=${_}&player_two=${y}`,{noscroll:!0,keepfocus:!0})};function r(){a=Te(this),l(0,a),l(4,t),l(1,i)}function p(){i=Te(this),l(1,i),l(3,n),l(0,a)}return s.$$set=_=>{"playerOne"in _&&l(0,a=_.playerOne),"playerTwo"in _&&l(1,i=_.playerTwo),"leagueTeamManagers"in _&&l(2,f=_.leagueTeamManagers)},s.$$.update=()=>{s.$$.dirty&2&&l(4,t=h.filter(_=>_!==i)),s.$$.dirty&1&&l(3,n=h.filter(_=>_!==a)),s.$$.dirty&3&&u(a,i)},[a,i,f,n,t,r,p]}class cs extends ue{constructor(e){super(),ce(this,e,us,fs,_e,{playerOne:0,playerTwo:1,leagueTeamManagers:2})}}function Me(s){let e,l;return e=new Qe({props:{class:"material-icons",$$slots:{default:[_s]},$$scope:{ctx:s}}}),e.$on("click",s[5]),{c(){C(e.$$.fragment)},l(t){G(e.$$.fragment,t)},m(t,n){Y(e,t,n),l=!0},p(t,n){const a={};n&128&&(a.$$scope={dirty:n,ctx:t}),e.$set(a)},i(t){l||(D(e.$$.fragment,t),l=!0)},o(t){R(e.$$.fragment,t),l=!1},d(t){J(e,t)}}}function _s(s){let e;return{c(){e=N("chevron_left")},l(l){e=B(l,"chevron_left")},m(l,t){W(l,e,t)},d(l){l&&v(e)}}}function Pe(s){let e,l;return e=new Qe({props:{class:"material-icons",$$slots:{default:[hs]},$$scope:{ctx:s}}}),e.$on("click",s[6]),{c(){C(e.$$.fragment)},l(t){G(e.$$.fragment,t)},m(t,n){Y(e,t,n),l=!0},p(t,n){const a={};n&128&&(a.$$scope={dirty:n,ctx:t}),e.$set(a)},i(t){l||(D(e.$$.fragment,t),l=!0)},o(t){R(e.$$.fragment,t),l=!1},d(t){J(e,t)}}}function hs(s){let e;return{c(){e=N("chevron_right")},l(l){e=B(l,"chevron_right")},m(l,t){W(l,e,t)},d(l){l&&v(e)}}}function ps(s){let e,l,t,n,a,i,f,h,u=s[2]>0&&Me(s),r=s[2]>0&&Pe(s);return{c(){e=F("div"),u&&u.c(),l=q(),t=F("h4"),n=N(s[0]),a=N(" Week "),i=N(s[1]),f=q(),r&&r.c(),this.h()},l(p){e=M(p,"DIV",{class:!0});var _=S(e);u&&u.l(_),l=j(_),t=M(_,"H4",{class:!0});var y=S(t);n=B(y,s[0]),a=B(y," Week "),i=B(y,s[1]),y.forEach(v),f=j(_),r&&r.l(_),_.forEach(v),this.h()},h(){O(t,"class","svelte-fnoigk"),O(e,"class","container svelte-fnoigk")},m(p,_){W(p,e,_),u&&u.m(e,null),d(e,l),d(e,t),d(t,n),d(t,a),d(t,i),d(e,f),r&&r.m(e,null),h=!0},p(p,[_]){p[2]>0?u?(u.p(p,_),_&4&&D(u,1)):(u=Me(p),u.c(),D(u,1),u.m(e,l)):u&&(Z(),R(u,1,1,()=>{u=null}),K()),(!h||_&1)&&x(n,p[0]),(!h||_&2)&&x(i,p[1]),p[2]>0?r?(r.p(p,_),_&4&&D(r,1)):(r=Pe(p),r.c(),D(r,1),r.m(e,null)):r&&(Z(),R(r,1,1,()=>{r=null}),K())},i(p){h||(D(u),D(r),h=!0)},o(p){R(u),R(r),h=!1},d(p){p&&v(e),u&&u.d(),r&&r.d()}}}function ms(s,e,l){let{year:t,displayWeek:n,selected:a,length:i}=e;const f=r=>{r==="left"?a>0?l(4,a--,a):l(4,a=i-1):a<i-1?l(4,a++,a):l(4,a=0)},h=()=>f("left"),u=()=>f("right");return s.$$set=r=>{"year"in r&&l(0,t=r.year),"displayWeek"in r&&l(1,n=r.displayWeek),"selected"in r&&l(4,a=r.selected),"length"in r&&l(2,i=r.length)},[t,n,i,f,a,h,u]}class gs extends ue{constructor(e){super(),ce(this,e,ms,ps,_e,{year:0,displayWeek:1,selected:4,length:2})}}function Se(s,e,l){const t=s.slice();return t[22]=e[l],t}function Re(s,e,l){const t=s.slice();return t[22]=e[l],t}function Ve(s,e,l){const t=s.slice();return t[27]=e[l],t}function ds(s){var u;let e,l,t,n,a,i=((u=s[4])==null?void 0:u.matchups.length)>0&&We(s),f=s[0]&&s[1]&&ze(s),h=s[0]&&s[1]&&s[8]&&s[7]&&He(s);return{c(){i&&i.c(),e=q(),l=F("div"),f&&f.c(),t=q(),h&&h.c(),n=oe(),this.h()},l(r){i&&i.l(r),e=j(r),l=M(r,"DIV",{class:!0});var p=S(l);f&&f.l(p),p.forEach(v),t=j(r),h&&h.l(r),n=oe(),this.h()},h(){O(l,"class","scoreBoard svelte-azlhdy")},m(r,p){i&&i.m(r,p),W(r,e,p),W(r,l,p),f&&f.m(l,null),W(r,t,p),h&&h.m(r,p),W(r,n,p),a=!0},p(r,p){var _;((_=r[4])==null?void 0:_.matchups.length)>0?i?(i.p(r,p),p&16&&D(i,1)):(i=We(r),i.c(),D(i,1),i.m(e.parentNode,e)):i&&(Z(),R(i,1,1,()=>{i=null}),K()),r[0]&&r[1]?f?(f.p(r,p),p&3&&D(f,1)):(f=ze(r),f.c(),D(f,1),f.m(l,null)):f&&(Z(),R(f,1,1,()=>{f=null}),K()),r[0]&&r[1]&&r[8]&&r[7]?h?(h.p(r,p),p&387&&D(h,1)):(h=He(r),h.c(),D(h,1),h.m(n.parentNode,n)):h&&(Z(),R(h,1,1,()=>{h=null}),K())},i(r){a||(D(i),D(f),D(h),a=!0)},o(r){R(i),R(f),R(h),a=!1},d(r){i&&i.d(r),r&&v(e),r&&v(l),f&&f.d(),r&&v(t),h&&h.d(r),r&&v(n)}}}function vs(s){let e,l,t,n;const a=[bs,ws],i=[];function f(h,u){return h[0]&&h[1]?0:1}return e=f(s),l=i[e]=a[e](s),{c(){l.c(),t=oe()},l(h){l.l(h),t=oe()},m(h,u){i[e].m(h,u),W(h,t,u),n=!0},p(h,u){let r=e;e=f(h),e!==r&&(Z(),R(i[r],1,1,()=>{i[r]=null}),K(),l=i[e],l||(l=i[e]=a[e](h),l.c()),D(l,1),l.m(t.parentNode,t))},i(h){n||(D(l),n=!0)},o(h){R(l),n=!1},d(h){i[e].d(h),h&&v(t)}}}function We(s){let e,l,t,n,a,i,f,h,u,r,p,_,y,m,$,z;a=new le({props:{sideOne:s[4].wins.one,sideTwo:s[4].wins.two,label:"Wins",unit:"wins"}}),f=new le({props:{sideOne:parseFloat(A(s[4].points.one)),sideTwo:parseFloat(A(s[4].points.two)),label:"Points",unit:"pts"}});function T(o){s[19](o)}let L={year:s[10],displayWeek:s[11],length:s[4].matchups.length};return s[5]!==void 0&&(L.selected=s[5]),_=new gs({props:L}),de.push(()=>ve(_,"selected",T)),$=new ts({props:{key:`${s[0]}-${s[1]}`,ix:s[5],active:s[5],year:s[10],matchup:s[12],players:s[2].players,displayWeek:s[11],expandOverride:!0,leagueTeamManagers:s[3]}}),{c(){e=F("div"),l=F("h3"),t=N("Head to Head"),n=q(),C(a.$$.fragment),i=q(),C(f.$$.fragment),h=q(),u=F("h3"),r=N("Matchups"),p=q(),C(_.$$.fragment),m=q(),C($.$$.fragment),this.h()},l(o){e=M(o,"DIV",{class:!0});var c=S(e);l=M(c,"H3",{class:!0});var b=S(l);t=B(b,"Head to Head"),b.forEach(v),n=j(c),G(a.$$.fragment,c),i=j(c),G(f.$$.fragment,c),h=j(c),u=M(c,"H3",{class:!0});var g=S(u);r=B(g,"Matchups"),g.forEach(v),p=j(c),G(_.$$.fragment,c),m=j(c),G($.$$.fragment,c),c.forEach(v),this.h()},h(){O(l,"class","svelte-azlhdy"),O(u,"class","svelte-azlhdy"),O(e,"class","scoreBoard svelte-azlhdy")},m(o,c){W(o,e,c),d(e,l),d(l,t),d(e,n),Y(a,e,null),d(e,i),Y(f,e,null),d(e,h),d(e,u),d(u,r),d(e,p),Y(_,e,null),d(e,m),Y($,e,null),z=!0},p(o,c){const b={};c&16&&(b.sideOne=o[4].wins.one),c&16&&(b.sideTwo=o[4].wins.two),a.$set(b);const g={};c&16&&(g.sideOne=parseFloat(A(o[4].points.one))),c&16&&(g.sideTwo=parseFloat(A(o[4].points.two))),f.$set(g);const P={};c&1024&&(P.year=o[10]),c&2048&&(P.displayWeek=o[11]),c&16&&(P.length=o[4].matchups.length),!y&&c&32&&(y=!0,P.selected=o[5],we(()=>y=!1)),_.$set(P);const w={};c&3&&(w.key=`${o[0]}-${o[1]}`),c&32&&(w.ix=o[5]),c&32&&(w.active=o[5]),c&1024&&(w.year=o[10]),c&4096&&(w.matchup=o[12]),c&4&&(w.players=o[2].players),c&2048&&(w.displayWeek=o[11]),c&8&&(w.leagueTeamManagers=o[3]),$.$set(w)},i(o){z||(D(a.$$.fragment,o),D(f.$$.fragment,o),D(_.$$.fragment,o),D($.$$.fragment,o),z=!0)},o(o){R(a.$$.fragment,o),R(f.$$.fragment,o),R(_.$$.fragment,o),R($.$$.fragment,o),z=!1},d(o){o&&v(e),J(a),J(f),J(_),J($)}}}function ze(s){let e,l,t,n,a,i=s[9],f=[];for(let r=0;r<i.length;r+=1)f[r]=je(Ve(s,i,r));const h=r=>R(f[r],1,1,()=>{f[r]=null});let u=null;return i.length||(u=qe()),{c(){e=F("h3"),l=N("Trade History"),t=q(),n=F("div");for(let r=0;r<f.length;r+=1)f[r].c();u&&u.c(),this.h()},l(r){e=M(r,"H3",{class:!0});var p=S(e);l=B(p,"Trade History"),p.forEach(v),t=j(r),n=M(r,"DIV",{class:!0});var _=S(n);for(let y=0;y<f.length;y+=1)f[y].l(_);u&&u.l(_),_.forEach(v),this.h()},h(){O(e,"class","svelte-azlhdy"),O(n,"class","trades svelte-azlhdy")},m(r,p){W(r,e,p),d(e,l),W(r,t,p),W(r,n,p);for(let _=0;_<f.length;_+=1)f[_]&&f[_].m(n,null);u&&u.m(n,null),a=!0},p(r,p){if(p&524){i=r[9];let _;for(_=0;_<i.length;_+=1){const y=Ve(r,i,_);f[_]?(f[_].p(y,p),D(f[_],1)):(f[_]=je(y),f[_].c(),D(f[_],1),f[_].m(n,null))}for(Z(),_=i.length;_<f.length;_+=1)h(_);K(),i.length?u&&(u.d(1),u=null):u||(u=qe(),u.c(),u.m(n,null))}},i(r){if(!a){for(let p=0;p<i.length;p+=1)D(f[p]);a=!0}},o(r){f=f.filter(Boolean);for(let p=0;p<f.length;p+=1)R(f[p]);a=!1},d(r){r&&v(e),r&&v(t),r&&v(n),ie(f,r),u&&u.d()}}}function qe(s){let e;return{c(){e=N("No trades yet...")},l(l){e=B(l,"No trades yet...")},m(l,t){W(l,e,t)},d(l){l&&v(e)}}}function je(s){let e,l;return e=new ls({props:{players:s[2].players,transaction:s[27],leagueTeamManagers:s[3]}}),{c(){C(e.$$.fragment)},l(t){G(e.$$.fragment,t)},m(t,n){Y(e,t,n),l=!0},p(t,n){const a={};n&4&&(a.players=t[2].players),n&512&&(a.transaction=t[27]),n&8&&(a.leagueTeamManagers=t[3]),e.$set(a)},i(t){l||(D(e.$$.fragment,t),l=!0)},o(t){R(e.$$.fragment,t),l=!1},d(t){J(e,t)}}}function He(s){let e,l,t,n,a,i,f,h,u,r,p,_;a=new le({props:{sideOne:parseFloat(A(s[8].wins/(s[8].wins+s[8].ties+s[8].losses)*100)),sideTwo:parseFloat(A(s[7].wins/(s[7].wins+s[7].ties+s[7].losses)*100)),label:"Win Percentage",unit:"%"}});let y=s[13],m=[];for(let o=0;o<y.length;o+=1)m[o]=Le(Re(s,y,o));const $=o=>R(m[o],1,1,()=>{m[o]=null});h=new le({props:{sideOne:parseFloat(A(s[8].fptsFor/(s[8].wins+s[8].ties+s[8].losses))),sideTwo:parseFloat(A(s[7].fptsFor/(s[7].wins+s[7].ties+s[7].losses))),label:"Fantasy Points per Game",unit:"fpts/game"}});let z=s[14],T=[];for(let o=0;o<z.length;o+=1)T[o]=Ne(Se(s,z,o));const L=o=>R(T[o],1,1,()=>{T[o]=null});return p=new le({props:{sideOne:parseFloat(A(s[8].fptsFor/s[8].potentialPoints*100)),sideTwo:parseFloat(A(s[7].fptsFor/s[7].potentialPoints*100)),label:"Lineup IQ",unit:"%"}}),{c(){e=F("div"),l=F("h3"),t=N("Performance Comparisson"),n=q(),C(a.$$.fragment),i=q();for(let o=0;o<m.length;o+=1)m[o].c();f=q(),C(h.$$.fragment),u=q();for(let o=0;o<T.length;o+=1)T[o].c();r=q(),C(p.$$.fragment),this.h()},l(o){e=M(o,"DIV",{class:!0});var c=S(e);l=M(c,"H3",{class:!0});var b=S(l);t=B(b,"Performance Comparisson"),b.forEach(v),n=j(c),G(a.$$.fragment,c),i=j(c);for(let g=0;g<m.length;g+=1)m[g].l(c);f=j(c),G(h.$$.fragment,c),u=j(c);for(let g=0;g<T.length;g+=1)T[g].l(c);r=j(c),G(p.$$.fragment,c),c.forEach(v),this.h()},h(){O(l,"class","svelte-azlhdy"),O(e,"class","scoreBoard svelte-azlhdy")},m(o,c){W(o,e,c),d(e,l),d(l,t),d(e,n),Y(a,e,null),d(e,i);for(let b=0;b<m.length;b+=1)m[b]&&m[b].m(e,null);d(e,f),Y(h,e,null),d(e,u);for(let b=0;b<T.length;b+=1)T[b]&&T[b].m(e,null);d(e,r),Y(p,e,null),_=!0},p(o,c){const b={};if(c&256&&(b.sideOne=parseFloat(A(o[8].wins/(o[8].wins+o[8].ties+o[8].losses)*100))),c&128&&(b.sideTwo=parseFloat(A(o[7].wins/(o[7].wins+o[7].ties+o[7].losses)*100))),a.$set(b),c&8576){y=o[13];let w;for(w=0;w<y.length;w+=1){const k=Re(o,y,w);m[w]?(m[w].p(k,c),D(m[w],1)):(m[w]=Le(k),m[w].c(),D(m[w],1),m[w].m(e,f))}for(Z(),w=y.length;w<m.length;w+=1)$(w);K()}const g={};if(c&256&&(g.sideOne=parseFloat(A(o[8].fptsFor/(o[8].wins+o[8].ties+o[8].losses)))),c&128&&(g.sideTwo=parseFloat(A(o[7].fptsFor/(o[7].wins+o[7].ties+o[7].losses)))),h.$set(g),c&16768){z=o[14];let w;for(w=0;w<z.length;w+=1){const k=Se(o,z,w);T[w]?(T[w].p(k,c),D(T[w],1)):(T[w]=Ne(k),T[w].c(),D(T[w],1),T[w].m(e,r))}for(Z(),w=z.length;w<T.length;w+=1)L(w);K()}const P={};c&256&&(P.sideOne=parseFloat(A(o[8].fptsFor/o[8].potentialPoints*100))),c&128&&(P.sideTwo=parseFloat(A(o[7].fptsFor/o[7].potentialPoints*100))),p.$set(P)},i(o){if(!_){D(a.$$.fragment,o);for(let c=0;c<y.length;c+=1)D(m[c]);D(h.$$.fragment,o);for(let c=0;c<z.length;c+=1)D(T[c]);D(p.$$.fragment,o),_=!0}},o(o){R(a.$$.fragment,o),m=m.filter(Boolean);for(let c=0;c<m.length;c+=1)R(m[c]);R(h.$$.fragment,o),T=T.filter(Boolean);for(let c=0;c<T.length;c+=1)R(T[c]);R(p.$$.fragment,o),_=!1},d(o){o&&v(e),J(a),ie(m,o),J(h),ie(T,o),J(p)}}}function Le(s){let e,l;return e=new le({props:{sideOne:parseFloat(A(s[8][s[22].field])),sideTwo:parseFloat(A(s[7][s[22].field])),label:s[22].label,unit:s[22].unit}}),{c(){C(e.$$.fragment)},l(t){G(e.$$.fragment,t)},m(t,n){Y(e,t,n),l=!0},p(t,n){const a={};n&256&&(a.sideOne=parseFloat(A(t[8][t[22].field]))),n&128&&(a.sideTwo=parseFloat(A(t[7][t[22].field]))),e.$set(a)},i(t){l||(D(e.$$.fragment,t),l=!0)},o(t){R(e.$$.fragment,t),l=!1},d(t){J(e,t)}}}function Ne(s){let e,l;return e=new le({props:{sideOne:parseFloat(A(s[8][s[22].field])),sideTwo:parseFloat(A(s[7][s[22].field])),label:s[22].label,unit:s[22].unit}}),{c(){C(e.$$.fragment)},l(t){G(e.$$.fragment,t)},m(t,n){Y(e,t,n),l=!0},p(t,n){const a={};n&256&&(a.sideOne=parseFloat(A(t[8][t[22].field]))),n&128&&(a.sideTwo=parseFloat(A(t[7][t[22].field]))),e.$set(a)},i(t){l||(D(e.$$.fragment,t),l=!0)},o(t){R(e.$$.fragment,t),l=!1},d(t){J(e,t)}}}function ws(s){let e,l,t;return{c(){e=F("div"),l=F("img"),this.h()},l(n){e=M(n,"DIV",{class:!0});var a=S(e);l=M(a,"IMG",{class:!0,src:!0,alt:!0}),a.forEach(v),this.h()},h(){O(l,"class","helmets svelte-azlhdy"),fe(l.src,t="/helmets.png")||O(l,"src",t),O(l,"alt","placeholder of helmets clashing"),O(e,"class","center svelte-azlhdy")},m(n,a){W(n,e,a),d(e,l)},i:X,o:X,d(n){n&&v(e)}}}function bs(s){let e,l,t,n,a,i,f,h;return f=new Je({props:{indeterminate:!0}}),{c(){e=F("div"),l=F("p"),t=N("Analyzing rivalry..."),n=q(),a=F("br"),i=q(),C(f.$$.fragment),this.h()},l(u){e=M(u,"DIV",{class:!0});var r=S(e);l=M(r,"P",{});var p=S(l);t=B(p,"Analyzing rivalry..."),p.forEach(v),n=j(r),a=M(r,"BR",{}),i=j(r),G(f.$$.fragment,r),r.forEach(v),this.h()},h(){O(e,"class","loading svelte-azlhdy")},m(u,r){W(u,e,r),d(e,l),d(l,t),d(e,n),d(e,a),d(e,i),Y(f,e,null),h=!0},i(u){h||(D(f.$$.fragment,u),h=!0)},o(u){R(f.$$.fragment,u),h=!1},d(u){u&&v(e),J(f)}}}function ys(s){let e,l,t,n,a,i,f,h,u,r,p,_;function y(o){s[17](o)}function m(o){s[18](o)}let $={leagueTeamManagers:s[3]};s[0]!==void 0&&($.playerOne=s[0]),s[1]!==void 0&&($.playerTwo=s[1]),a=new cs({props:$}),de.push(()=>ve(a,"playerOne",y)),de.push(()=>ve(a,"playerTwo",m));const z=[vs,ds],T=[];function L(o,c){return o[6]?0:1}return u=L(s),r=T[u]=z[u](s),{c(){e=F("h2"),l=N("Rivalry"),t=q(),n=F("div"),C(a.$$.fragment),h=q(),r.c(),p=oe(),this.h()},l(o){e=M(o,"H2",{class:!0});var c=S(e);l=B(c,"Rivalry"),c.forEach(v),t=j(o),n=M(o,"DIV",{class:!0});var b=S(n);G(a.$$.fragment,b),b.forEach(v),h=j(o),r.l(o),p=oe(),this.h()},h(){O(e,"class","svelte-azlhdy"),O(n,"class","rivalrySelection")},m(o,c){W(o,e,c),d(e,l),W(o,t,c),W(o,n,c),Y(a,n,null),W(o,h,c),T[u].m(o,c),W(o,p,c),_=!0},p(o,[c]){const b={};c&8&&(b.leagueTeamManagers=o[3]),!i&&c&1&&(i=!0,b.playerOne=o[0],we(()=>i=!1)),!f&&c&2&&(f=!0,b.playerTwo=o[1],we(()=>f=!1)),a.$set(b);let g=u;u=L(o),u===g?T[u].p(o,c):(Z(),R(T[g],1,1,()=>{T[g]=null}),K(),r=T[u],r?r.p(o,c):(r=T[u]=z[u](o),r.c()),D(r,1),r.m(p.parentNode,p))},i(o){_||(D(a.$$.fragment,o),D(r),_=!0)},o(o){R(a.$$.fragment,o),R(r),_=!1},d(o){o&&v(e),o&&v(t),o&&v(n),J(a),o&&v(h),T[u].d(o),o&&v(p)}}}function ks(s,e,l){let t,n,a,i,f,h,{leagueTeamManagers:u,playersInfo:r,transactionsInfo:p,recordsInfo:_,playerOne:y,playerTwo:m}=e;Ke(async()=>{p.stale&&l(16,p=await Ae(!1,!0)),r.stale&&l(2,r=await Ge(null,!0)),_.stale&&l(15,_=await Ye(!0))});let $=null,z=!0;const T=async(k,I)=>{l(6,z=!0),l(12,t=null),k&&I&&(l(4,$=await ns(k,I)),l(6,z=!1))};let L=0;const o=(k,I)=>{if(!k||!I)return[];const H=p.transactions.filter(V=>{if(V.type!=="trade")return!1;const Q=parseInt(re(u,y,V.season)),U=parseInt(re(u,m,V.season));return Q==U?!1:V.rosters.includes(Q)&&V.rosters.includes(U)}),E=(V,Q,U)=>{V.splice(U,0,V.splice(Q,1)[0])};return H.map(V=>{const Q=parseInt(re(u,y,V.season)),U=parseInt(re(u,m,V.season)),ae=V.rosters.indexOf(Q);if(ae>0){E(V.rosters,ae,0);for(const se of V.moves)E(se,ae,0)}const ne=V.rosters.indexOf(U),ee=V.rosters.length-1;if(ne<ee){E(V.rosters,ne,ee);for(const se of V.moves)E(se,ne,ee)}return V})},c=[{field:"wins",label:"Wins",unit:"wins"},{field:"losses",label:"Losses",unit:"losses"},{field:"ties",label:"Ties",unit:"ties"}],b=[{field:"fptsFor",label:"Fantasy Points For",unit:"fpts"},{field:"fptsAgainst",label:"Fantasy Points Against",unit:"fpts against"}];function g(k){y=k,l(0,y)}function P(k){m=k,l(1,m)}function w(k){L=k,l(5,L)}return s.$$set=k=>{"leagueTeamManagers"in k&&l(3,u=k.leagueTeamManagers),"playersInfo"in k&&l(2,r=k.playersInfo),"transactionsInfo"in k&&l(16,p=k.transactionsInfo),"recordsInfo"in k&&l(15,_=k.recordsInfo),"playerOne"in k&&l(0,y=k.playerOne),"playerTwo"in k&&l(1,m=k.playerTwo)},s.$$.update=()=>{var k,I,H,E,V;s.$$.dirty&3&&T(y,m),s.$$.dirty&48&&l(12,t=(k=$==null?void 0:$.matchups[L])==null?void 0:k.matchup),s.$$.dirty&48&&l(11,n=(I=$==null?void 0:$.matchups[L])==null?void 0:I.week),s.$$.dirty&48&&l(10,a=(H=$==null?void 0:$.matchups[L])==null?void 0:H.year),s.$$.dirty&3&&l(9,i=o(y,m)),s.$$.dirty&32769&&l(8,f=(E=_==null?void 0:_.regularSeasonData)!=null&&E.leagueManagerRecords?_.regularSeasonData.leagueManagerRecords[y]:null),s.$$.dirty&32770&&l(7,h=(V=_==null?void 0:_.regularSeasonData)!=null&&V.leagueManagerRecords?_.regularSeasonData.leagueManagerRecords[m]:null)},[y,m,r,u,$,L,z,h,f,i,a,n,t,c,b,_,p,g,P,w]}class Ts extends ue{constructor(e){super(),ce(this,e,ks,ys,_e,{leagueTeamManagers:3,playersInfo:2,transactionsInfo:16,recordsInfo:15,playerOne:0,playerTwo:1})}}async function Os({url:s,fetch:e}){var n,a;const l=(n=s==null?void 0:s.searchParams)==null?void 0:n.get("player_one"),t=(a=s==null?void 0:s.searchParams)==null?void 0:a.get("player_two");return{leagueTeamManagerData:Ce(),playersData:Ge(e),transactionsData:Ae(),recordsData:Ye(),playerOne:l,playerTwo:t}}const As=Object.freeze(Object.defineProperty({__proto__:null,load:Os},Symbol.toStringTag,{value:"Module"}));function Be(s){s[7]=s[11][0],s[8]=s[11][1],s[9]=s[11][2],s[10]=s[11][3]}function Is(s){let e,l,t=s[12].message+"",n;return{c(){e=F("p"),l=N("Something went wrong: "),n=N(t)},l(a){e=M(a,"P",{});var i=S(e);l=B(i,"Something went wrong: "),n=B(i,t),i.forEach(v)},m(a,i){W(a,e,i),d(e,l),d(e,n)},p:X,i:X,o:X,d(a){a&&v(e)}}}function Es(s){Be(s);let e,l;return e=new Ts({props:{leagueTeamManagers:s[7],playersInfo:s[8],transactionsInfo:s[9],recordsInfo:s[10],playerOne:s[4],playerTwo:s[5]}}),{c(){C(e.$$.fragment)},l(t){G(e.$$.fragment,t)},m(t,n){Y(e,t,n),l=!0},p(t,n){Be(t)},i(t){l||(D(e.$$.fragment,t),l=!0)},o(t){R(e.$$.fragment,t),l=!1},d(t){J(e,t)}}}function $s(s){let e,l,t,n,a,i,f,h;return f=new Je({props:{indeterminate:!0}}),{c(){e=F("div"),l=F("p"),t=N("Gathering information..."),n=q(),a=F("br"),i=q(),C(f.$$.fragment),this.h()},l(u){e=M(u,"DIV",{class:!0});var r=S(e);l=M(r,"P",{});var p=S(l);t=B(p,"Gathering information..."),p.forEach(v),n=j(r),a=M(r,"BR",{}),i=j(r),G(f.$$.fragment,r),r.forEach(v),this.h()},h(){O(e,"class","loading svelte-1swuelu")},m(u,r){W(u,e,r),d(e,l),d(l,t),d(e,n),d(e,a),d(e,i),Y(f,e,null),h=!0},p:X,i(u){h||(D(f.$$.fragment,u),h=!0)},o(u){R(f.$$.fragment,u),h=!1},d(u){u&&v(e),J(f)}}}function Ds(s){let e,l,t={ctx:s,current:null,token:null,hasCatch:!0,pending:$s,then:Es,catch:Is,value:11,error:12,blocks:[,,,]};return Ue(me(s[0],s[1],s[2],s[3]),t),{c(){e=F("div"),t.block.c(),this.h()},l(n){e=M(n,"DIV",{class:!0});var a=S(e);t.block.l(a),a.forEach(v),this.h()},h(){O(e,"class","holder svelte-1swuelu")},m(n,a){W(n,e,a),t.block.m(e,t.anchor=null),t.mount=()=>e,t.anchor=null,l=!0},p(n,[a]){s=n,xe(t,s,a)},i(n){l||(D(t.block),l=!0)},o(n){for(let a=0;a<3;a+=1){const i=t.blocks[a];R(i)}l=!1},d(n){n&&v(e),t.block.d(),t.token=null,t=null}}}function Fs(s,e,l){let{data:t}=e;const{leagueTeamManagerData:n,playersData:a,transactionsData:i,recordsData:f,playerOne:h,playerTwo:u}=t;return s.$$set=r=>{"data"in r&&l(6,t=r.data)},[n,a,i,f,h,u,t]}class Cs extends ue{constructor(e){super(),ce(this,e,Fs,Ds,_e,{data:6})}}export{Cs as component,As as universal};

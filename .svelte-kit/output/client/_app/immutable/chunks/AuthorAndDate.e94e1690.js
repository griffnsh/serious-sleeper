import{af as P,S as K,i as Q,s as R,k as g,a as S,a7 as U,q as z,l as p,m as k,c as j,a8 as W,r as C,h as b,n as u,a2 as V,b as X,T as o,u as G,Y as L}from"./index.78a9f0bb.js";import{o as A,j as O,k as Y,n as J}from"./records.35358e58.js";import"./index.svelte_svelte_type_style_lang.1b9663cd.js";const oe=async(s,e=!1)=>{var n,r;if((n=P(A)[0])!=null&&n.items&&!e)return{posts:P(A),fresh:!1};const t=await(s??fetch)("/api/getBlogPosts",{compress:!0});if(!t.ok){const h=await t.text();return console.error(h),(r=P(A)[0])!=null&&r.items?{posts:P(A),fresh:!0}:{posts:[],fresh:!0}}const c=[...(await t.json()).items].sort((h,_)=>Date.parse(_.sys.createdAt)-Date.parse(h.sys.createdAt));return A.update(()=>c),{posts:c,fresh:!0}},q=(s,e=!0)=>{let{paragraphText:a,newIndent:t}=Z(s.nodeType,e,s.data.target);e=t;for(const f of s.content)a+=$(f,e);return a+=x(s.nodeType,e),a},Z=(s,e,a)=>{let t="";switch(s){case"heading-1":e&&(t='<h1 class="heading-1">');break;case"heading-2":e&&(t='<h2 class="heading-2">');break;case"heading-3":e&&(t='<h3 class="heading-3">');break;case"heading-4":e&&(t='<h4 class="heading-4">');break;case"heading-5":e&&(t='<h5 class="heading-5">');break;case"heading-6":e&&(t='<h6 class="heading-6">');break;case"paragraph":e&&(t='<p class="bodyParagraph">');break;case"table":t="<table>";break;case"table-row":t="<tr>";break;case"table-cell":t="<td>";break;case"table-header-cell":t="<th>";break;case"unordered-list":t="<ul>";break;case"ordered-list":t="<ol>";break;case"blockquote":t="<blockquote>",e=!1;break;case"hr":t="<hr />";break;case"embedded-asset-block":t=`<br /><div class="blogImg"><img class="innerImg" src="${ee(a)}" alt="${a.fields.title}" /></div>`;break}return{paragraphText:t,newIndent:e}},x=(s,e)=>{switch(s){case"heading-1":return e?"</h1>":"";case"heading-2":return e?"</h2>":"";case"heading-3":return e?"</h3>":"";case"heading-4":return e?"</h4>":"";case"heading-5":return e?"</h5>":"";case"heading-6":return e?"</h6>":"";case"paragraph":return e?"</p>":"";case"table":return"</table>";case"table-row":return"</tr>";case"table-cell":return"</td>";case"table-header-cell":return"</th>";case"unordered-list":return"</ul>";case"blockquote":return"</blockquote>";case"ordered-list":return"</ol>";default:return""}},$=(s,e)=>{let a="";switch(s.nodeType){case"paragraph":return q(s,e);case"list-item":return a+="<li>",a+=q(s,!1),a+="</li>",a;case"embedded-asset-block":case"ordered-list":case"unordered-list":case"table":case"table-row":case"table-cell":case"table-header-cell":return q(s,!1)}return a+=ae(s.marks),s.nodeType=="text"&&(a+=s.value),s.nodeType=="hyperlink"&&(a+=`<a href="${s.data.uri}" class="blogLink">`,a+=q(s),a+="</a>"),a+=se(s.marks),a},ee=s=>`https://${s.fields.file.url.split("//")[1]}?fm=jpg&fl=progressive`,ae=s=>{let e="";if(s)for(const a of s)a.type=="bold"&&(e+="<b>"),a.type=="italic"&&(e+="<i>"),a.type=="underline"&&(e+="<u>"),a.type=="code"&&(e+="<code>");return e},se=s=>{let e="";if(s)for(const a of s)a.type=="code"&&(e+="</code>"),a.type=="underline"&&(e+="</u>"),a.type=="italic"&&(e+="</i>"),a.type=="bold"&&(e+="</b>");return e};function te(s){let e,a,t,f,c,n,r=O(s[1],s[2])+"",h,_,m,y,w=Y(s[3])+"",T,D,v,d,E,I;return{c(){e=g("div"),a=g("img"),f=S(),c=g("span"),n=new U(!1),h=z(" -"),_=S(),m=g("span"),y=g("i"),T=z(w),D=S(),v=g("div"),d=g("a"),E=z(s[0]),this.h()},l(i){e=p(i,"DIV",{class:!0});var l=k(e);a=p(l,"IMG",{alt:!0,class:!0,src:!0}),f=j(l),c=p(l,"SPAN",{class:!0});var M=k(c);n=W(M,!1),h=C(M," -"),M.forEach(b),_=j(l),m=p(l,"SPAN",{class:!0});var B=k(m);y=p(B,"I",{});var F=k(y);T=C(F,w),F.forEach(b),B.forEach(b),D=j(l),v=p(l,"DIV",{class:!0});var H=k(v);d=p(H,"A",{href:!0,class:!0});var N=k(d);E=C(N,s[0]),N.forEach(b),H.forEach(b),l.forEach(b),this.h()},h(){u(a,"alt","author avatar"),u(a,"class","teamAvatar svelte-3wvz61"),V(a.src,t=J(s[1],s[2]))||u(a,"src",t),n.a=h,u(c,"class","author"),u(m,"class","date"),u(d,"href",I="/blog?filter="+s[0]+"&page=1"),u(d,"class","svelte-3wvz61"),u(v,"class","filter svelte-3wvz61"),u(e,"class","authorAndDate svelte-3wvz61")},m(i,l){X(i,e,l),o(e,a),o(e,f),o(e,c),n.m(r,c),o(c,h),o(e,_),o(e,m),o(m,y),o(y,T),o(e,D),o(e,v),o(v,d),o(d,E)},p(i,[l]){l&6&&!V(a.src,t=J(i[1],i[2]))&&u(a,"src",t),l&6&&r!==(r=O(i[1],i[2])+"")&&n.p(r),l&8&&w!==(w=Y(i[3])+"")&&G(T,w),l&1&&G(E,i[0]),l&1&&I!==(I="/blog?filter="+i[0]+"&page=1")&&u(d,"href",I)},i:L,o:L,d(i){i&&b(e)}}}function re(s,e,a){let{type:t,leagueTeamManagers:f,author:c,createdAt:n}=e;return s.$$set=r=>{"type"in r&&a(0,t=r.type),"leagueTeamManagers"in r&&a(1,f=r.leagueTeamManagers),"author"in r&&a(2,c=r.author),"createdAt"in r&&a(3,n=r.createdAt)},[t,f,c,n]}class ne extends K{constructor(e){super(),Q(this,e,re,te,R,{type:0,leagueTeamManagers:1,author:2,createdAt:3})}}export{ne as A,oe as a,q as g};

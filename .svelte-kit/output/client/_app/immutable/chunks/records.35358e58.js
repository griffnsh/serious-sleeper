import{j as L,w as f}from"./singletons.6c6633c9.js";import{af as S}from"./index.78a9f0bb.js";const B="1090428246828625920",y="Serious-NFL After Dark",C=100,Y=!0,H=!1,j=`
  
`,d=[],p=L("goto"),E=L("preload_data"),O=f({}),G=f({}),q=f({}),z=f([]),J=f({}),K=f({}),Q=f({}),U=f({}),V=f({}),X=f({}),Z=f({}),M=f([]),ee=f([]),te=f({}),se=f({}),A=async(...e)=>Promise.all(e),$="https://www.reddit.com/r/DynastyFF/new.json",P="/api/fetch_serverside_news",ae=async(e,a=!1)=>{if(S(M)[0]&&!a)return{articles:S(M),fresh:!1};const s=[(e??fetch)(P,{compress:!0})];s.push(T($,v));const[n,r]=await A(...s).catch(u=>{console.error(u)}),l=await n.json().catch(u=>{console.error(u)}),o=[...r,...l].sort((u,g)=>u.ts<g.ts?1:-1);return M.update(()=>o),{articles:o,fresh:!0}},T=async(e,a)=>{const t=await fetch(e,{compress:!0}).catch(n=>{console.error(n)}),s=await t.json().catch(n=>{console.error(n)});return t.ok&&s&&s.data?a(s.data):(console.error(s),[])},v=e=>{var r;const a=["AutoModerator","FFBot","Brookskbrothers","FTAKJ"],t=["","self","thumbnail","default"];let s=[];const n=e.children;for(const l of n){const o=l.data;if(a.includes(o.author))continue;const u=o.created_utc*1e3,g=new Date(u),i=t.includes(o.thumbnail)?`newsIcons/${o.subreddit}.png`:o.thumbnail,m=_(g);let c=`<a href="${o.url}" class="body-link">${o.url}</a>`;o.selftext_html&&(c=k(o.selftext_html)),(r=o.secure_media_embed)!=null&&r.content&&k(o.secure_media_embed.content),s.push({title:o.title,article:c,link:`https://www.reddit.com${o.permalink}`,author:`${o.subreddit_name_prefixed} - u/${o.author}`,ts:u,date:m,icon:i})}return s};var D={nbsp:" ",cent:"¢",pound:"£",yen:"¥",euro:"€",copy:"©",reg:"®",lt:"<",gt:">",quot:'"',amp:"&",apos:"'"};function k(e){return e.replace(/\&([^;]+);/g,function(a,t){let s;return t in D?D[t]:(s=t.match(/^#x([\da-fA-F]+)$/))?String.fromCharCode(parseInt(s[1],16)):(s=t.match(/^#(\d+)$/))?String.fromCharCode(~~s[1]):a})}const _=e=>`${e.getMonth()+1}/${e.getDate()}/${e.getFullYear()} ${e.getHours()%12}:${(e.getMinutes()<10?"0":"")+e.getMinutes()}${e.getHours()/12>=1?"PM":"AM"}`,w="managers/question.jpg",x=e=>e.replace("Team ","").toLowerCase().replace(/[ ’'!"#$%&\\'()\*+,\-\.\/:;<=>?@\[\\\]\^_`{|}~']/g,""),ne=e=>(typeof e=="string"&&(e=parseFloat(e)),(Math.round((e+Number.EPSILON)*100)/100).toFixed(2)),I=(e,a,t)=>{const s=Math.min(...e);let n=Math.floor(s/a)*a;if(t&&s>0){let r=0;for(;n>0&&(s-n)/(t-n)<.15&&(n-=a,r++,!(r>100)););}return n>0?n:0},F=(e,a)=>{const t=Math.max(...e);return Math.ceil(t/a)*a},re=({leagueTeamManagers:e,managerID:a,rosterID:t,year:s})=>{if(!d.length)return;let n=-1;if((!s||s>e.currentSeason)&&(s=e.currentSeason),a){if(n=d.findIndex(r=>r.managerID==a),n<0&&e.teamManagersMap[s]!=null){for(const r in e.teamManagersMap[s])if(e.teamManagersMap[s][r]!=null){for(const l of e.teamManagersMap[s][r].managers)if(l==a){n=d.findIndex(o=>o.roster==r),p(`/manager?manager=${n}`);return}}}}else if(t){if(e.teamManagersMap[s]!=null){for(const r of e.teamManagersMap[s][t].managers)if(n=d.findIndex(l=>l.managerID==r),n>-1){p(`/manager?manager=${n}`);return}}n=d.findIndex(r=>r.roster==t)}p(`/manager?manager=${n}`)},oe=(e,a)=>{for(const t in e.users)if(e.users[t].user_name.toLowerCase()==a.toLowerCase())return[`<a href="/manager?manager=${d.findIndex(s=>s.managerID==String(t))}">${e.users[t].display_name}</a>`];return a},ce=(e,a)=>{for(const t in e.users)if(e.users[t].user_name.toLowerCase()==a.toLowerCase())return`https://sleepercdn.com/avatars/thumbs/${e.users[t].avatar}`;return w},ie=e=>{const a=Date.parse(e),t=new Date(a);return _(t)},le=({stats:e,x:a,stat:t,header:s,field:n,short:r,secondField:l=null},o,u=10,g=null)=>{if(!e)return null;const i={stats:[],secondStats:[],managerIDs:[],rosterIDs:[],labels:{x:a,stat:t},header:s,xMin:0,xMax:0,short:r,year:o},m=[...e].sort((c,b)=>b[n]-c[n]);for(const c of m)i.stats.push(c[n]),l&&i.secondStats.push(c[l]),c.managerID?(i.managerIDs.push(c.managerID),i.rosterIDs.push(null)):c.rosterID&&(i.managerIDs.push(null),i.rosterIDs.push(c.rosterID));return i.xMax=F(i.stats,u),i.xMin=I(i.stats,u,i.xMax),l&&(i.xMin=I(i.secondStats,u,i.xMax)),g&&(i.xMin=g),i},R=(e,a)=>{const t=e.sort((r,l)=>l[a]-r[a]),s=t.slice(0,10),n=t.slice(-10).reverse();return[s,n]},ue=e=>{const a=[];if(e.owner_id&&a.push(e.owner_id),e.co_owners)for(const t of e.co_owners)a.push(t);return a},fe=(e,a)=>{var s;const t=e[a];return t?{avatar:(s=t.metadata)!=null&&s.avatar?t.metadata.avatar:`https://sleepercdn.com/avatars/thumbs/${t.avatar}`,name:t.metadata.team_name?t.metadata.team_name:t.display_name}:{avatar:"https://sleepercdn.com/images/v2/icons/player_default.webp",name:"Unknown Team"}},ge=(e,a,t)=>{var r;(!t||t>e.currentSeason)&&(t=e.currentSeason);const s=e.teamManagersMap[t];if(s==null)return w;const n=s[a];return n==null?w:(r=n.team)==null?void 0:r.avatar},he=(e,a,t)=>((!t||t>e.currentSeason)&&(t=e.currentSeason),e.teamManagersMap[t][a].team.name),me=(e,a,t)=>{(!t||t>e.currentSeason)&&(t=e.currentSeason);let s="";for(const n of e.teamManagersMap[t][a].managers){const r=e.users[n];r&&(s!=""&&(s+=", "),s+=r.display_name)}return s},de=(e,a,t)=>((!t||t>e.currentSeason)&&(t=e.currentSeason),e.teamManagersMap[t][a].team),pe=(e,a,t)=>{const s=e.teamManagersMap[a][t].team.name,n=e.teamManagersMap[e.currentSeason][t].team.name;return x(s)!=x(n)?`${s}<div class="curOwner">(${n})</div>`:s},Me=(e,a)=>{if(!a)return;let t={start:null,end:null};const s=Object.keys(e.teamManagersMap).sort((n,r)=>r-n);for(const n of s)for(const r in e.teamManagersMap[n])if(e.teamManagersMap[n][r].managers.indexOf(a)>-1){t.start=n,t.end||(t.end=n);break}return t.end==e.currentSeason&&(t.end=null),t},Re=(e,a)=>{if(!a)return null;const t=Object.keys(e.teamManagersMap).sort((s,n)=>n-s);for(const s of t)for(const n in e.teamManagersMap[s])if(e.teamManagersMap[s][n].managers.indexOf(a)>-1)return{rosterID:n,year:s};return null},we=(e,a,t)=>{if(!a||!t)return null;for(const s in e.teamManagersMap[t])if(e.teamManagersMap[t][s].managers.indexOf(a)>-1)return s;return null},Se=(e,a,t,s)=>s?e.teamManagersMap[t][a].managers.indexOf(s)>-1:!1;class h{constructor(){this.leagueManagerRecords={},this.leagueRosterRecords={},this.seasonWeekRecords=[],this.leagueWeekRecords=[],this.seasonLongPoints=[],this.allTimeMatchupDifferentials=[],this.allTimeBiggestBlowouts=[],this.allTimeClosestMatchups=[],this.leastSeasonLongPoints=[],this.mostSeasonLongPoints=[],this.leagueWeekLows=[],this.leagueWeekHighs=[],this.currentYear=null,this.lastYear=null}}h.prototype.confirmManagerRecord=function(e){this.leagueManagerRecords[e]||(this.leagueManagerRecords[e]={wins:0,losses:0,ties:0,fptsFor:0,fptsAgainst:0,potentialPoints:0,pOGames:0,byes:0,playoffAppearances:0})};h.prototype.confirmRosterRecord=function(e){this.leagueRosterRecords[e]||(this.leagueRosterRecords[e]={years:[]})};h.prototype.updateManagerRecord=function(e,{rosterID:a,year:t,wins:s,losses:n,ties:r,fptsPerGame:l,fptsFor:o,fptsAgainst:u,potentialPoints:g,pOGames:i,byes:m}){for(const c of e)this.confirmManagerRecord(c),this.leagueManagerRecords[c].wins+=s,this.leagueManagerRecords[c].losses+=n,this.leagueManagerRecords[c].ties+=r,this.leagueManagerRecords[c].fptsFor+=o,this.leagueManagerRecords[c].fptsAgainst+=u,this.leagueManagerRecords[c].potentialPoints+=g,this.leagueManagerRecords[c].pOGames+=i,this.leagueManagerRecords[c].byes+=m,this.leagueManagerRecords[c].playoffAppearances++;this.confirmRosterRecord(a),this.leagueRosterRecords[a].years.push({wins:s,losses:n,ties:r,fpts:o,fptsAgainst:u,fptsPerGame:l,potentialPoints:g,pOGames:i,byes:m,rosterID:a,year:t})};h.prototype.addSeasonLongPoints=function({rosterID:e,fpts:a,fptsPerGame:t,year:s}){this.seasonLongPoints.push({rosterID:e,fpts:a,fptsPerGame:t,year:s})};h.prototype.addLeagueWeekRecord=function(e){this.leagueWeekRecords.push(e)};h.prototype.addAllTimeMatchupDifferentials=function(e){this.allTimeMatchupDifferentials=this.allTimeMatchupDifferentials.concat(e)};h.prototype.addSeasonWeekRecord=function(e){this.seasonWeekRecords.push(e)};h.prototype.finalizeAllTimeRecords=function({currentYear:e,lastYear:a}){const[t,s]=R(this.allTimeMatchupDifferentials,"differential");this.allTimeBiggestBlowouts=t,this.allTimeClosestMatchups=s;const[n,r]=R(this.leagueWeekRecords,"fpts");this.leagueWeekHighs=n,this.leagueWeekLows=r;const[l,o]=R(this.seasonLongPoints,"fptsPerGame");this.mostSeasonLongPoints=l,this.leastSeasonLongPoints=o,this.currentYear=e,this.lastYear=a};h.prototype.returnRecords=function(){return{allTimeBiggestBlowouts:this.allTimeBiggestBlowouts,allTimeClosestMatchups:this.allTimeClosestMatchups,leastSeasonLongPoints:this.leastSeasonLongPoints,mostSeasonLongPoints:this.mostSeasonLongPoints,leagueWeekLows:this.leagueWeekLows,leagueWeekHighs:this.leagueWeekHighs,seasonWeekRecords:this.seasonWeekRecords,leagueManagerRecords:this.leagueManagerRecords,leagueRosterRecords:this.leagueRosterRecords,currentYear:this.currentYear,lastYear:this.lastYear}};export{J as A,me as B,ae as C,Y as D,we as E,fe as F,K as G,R as H,ue as I,te as J,se as K,Q as L,U as M,Z as N,X as O,G as P,V as Q,h as R,y as a,de as b,le as c,re as d,H as e,ge as f,p as g,j as h,pe as i,oe as j,ie as k,B as l,d as m,ce as n,ee as o,E as p,C as q,ne as r,z as s,he as t,q as u,Se as v,A as w,Me as x,Re as y,O as z};
